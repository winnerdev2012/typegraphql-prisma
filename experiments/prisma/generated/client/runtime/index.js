var Rr=Object.defineProperty,Ud=Object.prototype.hasOwnProperty,p=(e,t)=>()=>(t||(t={exports:{}},e(t.exports,t)),t.exports),Js=e=>Rr(e,"__esModule",{value:!0}),Gd=(e,t)=>{Js(e);for(var r in t)Rr(e,r,{get:t[r],enumerable:!0})},zd=(e,t)=>{if(Js(e),typeof t=="object"||typeof t=="function")for(let r in t)!Ud.call(e,r)&&r!=="default"&&Rr(e,r,{get:()=>t[r],enumerable:!0});return e},R=e=>e&&e.__esModule?e:zd(Rr({},"default",{value:e,enumerable:!0}),e);var eo=p((Xw,Qs)=>{Qs.exports=Ks;Ks.sync=Hd;var Xs=require("fs");function Wd(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(r=r.split(";"),r.indexOf("")!==-1)return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Zs(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Wd(t,r)}function Ks(e,t,r){Xs.stat(e,function(n,i){r(n,n?!1:Zs(i,e,t))})}function Hd(e,t){return Zs(Xs.statSync(e),e,t)}});var so=p((Zw,to)=>{to.exports=ro;ro.sync=Vd;var no=require("fs");function ro(e,t,r){no.stat(e,function(n,i){r(n,n?!1:io(i,t))})}function Vd(e,t){return io(no.statSync(e),t)}function io(e,t){return e.isFile()&&Yd(e,t)}function Yd(e,t){var r=e.mode,n=e.uid,i=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),d=parseInt("001",8),u=a|l,c=r&d||r&l&&i===o||r&a&&n===s||r&u&&s===0;return c}});var ao=p((tb,oo)=>{var eb=require("fs"),Lr;process.platform==="win32"||global.TESTING_WINDOWS?Lr=eo():Lr=so();oo.exports=Zn;Zn.sync=Jd;function Zn(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Zn(e,t||{},function(s,o){s?i(s):n(o)})})}Lr(e,t||{},function(n,i){n&&((n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1)),r(n,i)})}function Jd(e,t){try{return Lr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var mo=p((rb,lo)=>{const ht=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",uo=require("path"),Qd=ht?";":":",co=ao(),fo=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),ho=(e,t)=>{const r=t.colon||Qd,n=e.match(/\//)||ht&&e.match(/\\/)?[""]:[...ht?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ht?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=ht?i.split(r):[""];return ht&&(e.indexOf(".")!==-1&&s[0]!==""&&s.unshift("")),{pathEnv:n,pathExt:s,pathExtExe:i}},po=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});const{pathEnv:n,pathExt:i,pathExtExe:s}=ho(e,t),o=[],a=d=>new Promise((u,c)=>{if(d===n.length)return t.all&&o.length?u(o):c(fo(e));const f=n[d],h=/^".*"$/.test(f)?f.slice(1,-1):f,m=uo.join(h,e),b=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;u(l(b,d,0))}),l=(d,u,c)=>new Promise((f,h)=>{if(c===i.length)return f(a(u+1));const m=i[c];co(d+m,{pathExt:s},(b,g)=>{if(!b&&g)if(t.all)o.push(d+m);else return f(d+m);return f(l(d,u,c+1))})});return r?a(0).then(d=>r(null,d),r):a(0)},Kd=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:n,pathExtExe:i}=ho(e,t),s=[];for(let o=0;o<r.length;o++){const a=r[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,d=uo.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let c=0;c<n.length;c++){const f=u+n[c];try{const h=co.sync(f,{pathExt:i});if(h)if(t.all)s.push(f);else return f}catch(h){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw fo(e)};lo.exports=po;po.sync=Kd});var ti=p((nb,ei)=>{"use strict";const go=(e={})=>{const t=e.env||process.env,r=e.platform||process.platform;return r!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};ei.exports=go;ei.exports.default=go});var Mo=p((ib,yo)=>{"use strict";const wo=require("path"),Xd=mo(),Zd=ti();function bo(e,t){const r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(a){}let o;try{o=Xd.sync(e.command,{path:r[Zd({env:r})],pathExt:t?wo.delimiter:void 0})}catch(a){}finally{s&&process.chdir(n)}return o&&(o=wo.resolve(i?e.options.cwd:"",o)),o}function ef(e){return bo(e)||bo(e,!0)}yo.exports=ef});var vo=p((sb,ri)=>{"use strict";const ni=/([()\][%!^"`<>&|;, *?])/g;function tf(e){return e=e.replace(ni,"^$1"),e}function rf(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(ni,"^$1"),t&&(e=e.replace(ni,"^$1")),e}ri.exports.command=tf;ri.exports.argument=rf});var To=p((ob,Eo)=>{"use strict";Eo.exports=/^#!(.*)/});var Co=p((ab,Ao)=>{"use strict";const nf=To();Ao.exports=(e="")=>{const t=e.match(nf);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var xo=p((lb,Do)=>{"use strict";const ii=require("fs"),sf=Co();function of(e){const t=150,r=Buffer.alloc(t);let n;try{n=ii.openSync(e,"r"),ii.readSync(n,r,0,t,0),ii.closeSync(n)}catch(i){}return sf(r.toString())}Do.exports=of});var _o=p((ub,So)=>{"use strict";const af=require("path"),Oo=Mo(),Io=vo(),lf=xo(),uf=process.platform==="win32",cf=/\.(?:com|exe)$/i,df=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ff(e){e.file=Oo(e);const t=e.file&&lf(e.file);return t?(e.args.unshift(e.file),e.command=t,Oo(e)):e.file}function hf(e){if(!uf)return e;const t=ff(e),r=!cf.test(t);if(e.options.forceShell||r){const n=df.test(t);e.command=af.normalize(e.command),e.command=Io.command(e.command),e.args=e.args.map(s=>Io.argument(s,n));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function pf(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);const n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:hf(n)}So.exports=pf});var Lo=p((cb,ko)=>{"use strict";const si=process.platform==="win32";function oi(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function mf(e,t){if(!si)return;const r=e.emit;e.emit=function(n,i){if(n==="exit"){const s=Ro(i,t,"spawn");if(s)return r.call(e,"error",s)}return r.apply(e,arguments)}}function Ro(e,t){return si&&e===1&&!t.file?oi(t.original,"spawn"):null}function gf(e,t){return si&&e===1&&!t.file?oi(t.original,"spawnSync"):null}ko.exports={hookChildProcess:mf,verifyENOENT:Ro,verifyENOENTSync:gf,notFoundError:oi}});var ui=p((db,pt)=>{"use strict";const Po=require("child_process"),ai=_o(),li=Lo();function No(e,t,r){const n=ai(e,t,r),i=Po.spawn(n.command,n.args,n.options);return li.hookChildProcess(i,n),i}function yf(e,t,r){const n=ai(e,t,r),i=Po.spawnSync(n.command,n.args,n.options);return i.error=i.error||li.verifyENOENTSync(i.status,n),i}pt.exports=No;pt.exports.spawn=No;pt.exports.sync=yf;pt.exports._parse=ai;pt.exports._enoent=li});var di=p((Jt,Pr)=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.createLineStream=void 0;const ci=require("stream"),wf=require("util");function bf(e,t){return Pr.exports.createStream(e,t)}Jt.default=bf;Pr.exports.createStream=function(e,t){return e?Fo(e,t):new je(t)};function Fo(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");const r=new je(t);return e.pipe(r),r}Jt.createLineStream=Fo;Pr.exports.LineStream=je;function je(e){ci.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof ci.Readable&&(this.encoding=t._readableState.encoding)})}wf.inherits(je,ci.Transform);je.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;const n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};je.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){const n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){const i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};je.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};je.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var qo=p((fb,jo)=>{"use strict";jo.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var fi=p((hb,$o)=>{const Qt=qo(),Bo={};for(const e of Object.keys(Qt))Bo[Qt[e]]=e;const T={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};$o.exports=T;for(const e of Object.keys(T)){if(!("channels"in T[e]))throw new Error("missing channels property: "+e);if(!("labels"in T[e]))throw new Error("missing channel labels property: "+e);if(T[e].labels.length!==T[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:r}=T[e];delete T[e].channels,delete T[e].labels,Object.defineProperty(T[e],"channels",{value:t}),Object.defineProperty(T[e],"labels",{value:r})}T.rgb.hsl=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i;let a,l;s===i?a=0:t===s?a=(r-n)/o:r===s?a=2+(n-t)/o:n===s&&(a=4+(t-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);const d=(i+s)/2;return s===i?l=0:d<=.5?l=o/(s+i):l=o/(2-s-i),[a,l*100,d*100]};T.rgb.hsv=function(e){let t,r,n,i,s;const o=e[0]/255,a=e[1]/255,l=e[2]/255,d=Math.max(o,a,l),u=d-Math.min(o,a,l),c=function(f){return(d-f)/6/u+1/2};return u===0?(i=0,s=0):(s=u/d,t=c(o),r=c(a),n=c(l),o===d?i=n-r:a===d?i=1/3+t-n:l===d&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,d*100]};T.rgb.hwb=function(e){const t=e[0],r=e[1];let n=e[2];const i=T.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,s*100,n*100]};T.rgb.cmyk=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(1-t,1-r,1-n),s=(1-t-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Mf(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}T.rgb.keyword=function(e){const t=Bo[e];if(t)return t;let r=Infinity,n;for(const i of Object.keys(Qt)){const s=Qt[i],o=Mf(e,s);o<r&&(r=o,n=i)}return n};T.keyword.rgb=function(e){return Qt[e]};T.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;const i=t*.4124+r*.3576+n*.1805,s=t*.2126+r*.7152+n*.0722,o=t*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};T.rgb.lab=function(e){const t=T.rgb.xyz(e);let r=t[0],n=t[1],i=t[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};T.hsl.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;let i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;const a=2*n-i,l=[0,0,0];for(let d=0;d<3;d++)s=t+1/3*-(d-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,l[d]=o*255;return l};T.hsl.hsv=function(e){const t=e[0];let r=e[1]/100,n=e[2]/100,i=r;const s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;const o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[t,a*100,o*100]};T.hsv.rgb=function(e){const t=e[0]/60,r=e[1]/100;let n=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),o=255*n*(1-r),a=255*n*(1-r*s),l=255*n*(1-r*(1-s));n*=255;switch(i){case 0:return[n,l,o];case 1:return[a,n,o];case 2:return[o,n,l];case 3:return[o,a,n];case 4:return[l,o,n];case 5:return[n,o,a]}};T.hsv.hsl=function(e){const t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01);let s,o;o=(2-r)*n;const a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};T.hwb.rgb=function(e){const t=e[0]/360;let r=e[1]/100,n=e[2]/100;const i=r+n;let s;i>1&&(r/=i,n/=i);const o=Math.floor(6*t),a=1-n;s=6*t-o,(o&1)!==0&&(s=1-s);const l=r+s*(a-r);let d,u,c;switch(o){default:case 6:case 0:d=a,u=l,c=r;break;case 1:d=l,u=a,c=r;break;case 2:d=r,u=a,c=l;break;case 3:d=r,u=l,c=a;break;case 4:d=l,u=r,c=a;break;case 5:d=a,u=r,c=l;break}return[d*255,u*255,c*255]};T.cmyk.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};T.xyz.rgb=function(e){const t=e[0]/100,r=e[1]/100,n=e[2]/100;let i,s,o;return i=t*3.2406+r*-1.5372+n*-.4986,s=t*-.9689+r*1.8758+n*.0415,o=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};T.xyz.lab=function(e){let t=e[0],r=e[1],n=e[2];t/=95.047,r/=100,n/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;const i=116*r-16,s=500*(t-r),o=200*(r-n);return[i,s,o]};T.lab.xyz=function(e){const t=e[0],r=e[1],n=e[2];let i,s,o;s=(t+16)/116,i=r/500+s,o=s-n/200;const a=s**3,l=i**3,d=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=d>.008856?d:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};T.lab.lch=function(e){const t=e[0],r=e[1],n=e[2];let i;const s=Math.atan2(n,r);i=s*360/2/Math.PI,i<0&&(i+=360);const o=Math.sqrt(r*r+n*n);return[t,o,i]};T.lch.lab=function(e){const t=e[0],r=e[1],n=e[2],i=n/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[t,s,o]};T.rgb.ansi16=function(e,t=null){const[r,n,i]=e;let s=t===null?T.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};T.hsv.ansi16=function(e){return T.rgb.ansi16(T.hsv.rgb(e),e[2])};T.rgb.ansi256=function(e){const t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;const i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};T.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,s=(t>>2&1)*r*255;return[n,i,s]};T.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const r=Math.floor(e/36)/5*255,n=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[r,n,i]};T.rgb.hex=function(e){const t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};T.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(a=>a+a).join(""));const n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};T.rgb.hcg=function(e){const t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),s=Math.min(Math.min(t,r),n),o=i-s;let a,l;return o<1?a=s/(1-o):a=0,o<=0?l=0:i===t?l=(r-n)/o%6:i===r?l=2+(n-t)/o:l=4+(t-r)/o,l/=6,l%=1,[l*360,o*100,a*100]};T.hsl.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=r<.5?2*t*r:2*t*(1-r);let i=0;return n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};T.hsv.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=t*r;let i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};T.hcg.rgb=function(e){const t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];const i=[0,0,0],s=t%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return l=(1-r)*n,[(r*i[0]+l)*255,(r*i[1]+l)*255,(r*i[2]+l)*255]};T.hcg.hsv=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);let i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};T.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};T.hcg.hwb=function(e){const t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};T.hwb.hcg=function(e){const t=e[1]/100,r=e[2]/100,n=1-r,i=n-t;let s=0;return i<1&&(s=(n-i)/(1-i)),[e[0],i*100,s*100]};T.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};T.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};T.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};T.gray.hsl=function(e){return[0,0,e[0]]};T.gray.hsv=T.gray.hsl;T.gray.hwb=function(e){return[0,100,e[0]]};T.gray.cmyk=function(e){return[0,0,0,e[0]]};T.gray.lab=function(e){return[e[0],0,0]};T.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};T.rgb.gray=function(e){const t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var Go=p((pb,Uo)=>{const Nr=fi();function vf(){const e={},t=Object.keys(Nr);for(let r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function Ef(e){const t=vf(),r=[e];for(t[e].distance=0;r.length;){const n=r.pop(),i=Object.keys(Nr[n]);for(let s=i.length,o=0;o<s;o++){const a=i[o],l=t[a];l.distance===-1&&(l.distance=t[n].distance+1,l.parent=n,r.unshift(a))}}return t}function Tf(e,t){return function(r){return t(e(r))}}function Af(e,t){const r=[t[e].parent,e];let n=Nr[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)r.unshift(t[i].parent),n=Tf(Nr[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}Uo.exports=function(e){const t=Ef(e),r={},n=Object.keys(t);for(let i=n.length,s=0;s<i;s++){const o=n[s],a=t[o];if(a.parent===null)continue;r[o]=Af(o,t)}return r}});var Ho=p((mb,zo)=>{const hi=fi(),Cf=Go(),mt={},Df=Object.keys(hi);function xf(e){const t=function(...r){const n=r[0];return n==null?n:(n.length>1&&(r=n),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function Sf(e){const t=function(...r){const n=r[0];if(n==null)return n;n.length>1&&(r=n);const i=e(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}Df.forEach(e=>{mt[e]={},Object.defineProperty(mt[e],"channels",{value:hi[e].channels}),Object.defineProperty(mt[e],"labels",{value:hi[e].labels});const t=Cf(e),r=Object.keys(t);r.forEach(n=>{const i=t[n];mt[e][n]=Sf(i),mt[e][n].raw=xf(i)})});zo.exports=mt});var Ko=p((gb,Wo)=>{"use strict";const Vo=(e,t)=>(...r)=>{const n=e(...r);return`[${n+t}m`},Yo=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};5;${n}m`},Jo=(e,t)=>(...r)=>{const n=e(...r);return`[${38+t};2;${n[0]};${n[1]};${n[2]}m`},Fr=e=>e,Qo=(e,t,r)=>[e,t,r],gt=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{const n=r();return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})};let pi;const yt=(e,t,r,n)=>{pi===void 0&&(pi=Ho());const i=n?10:0,s={};for(const[o,a]of Object.entries(pi)){const l=o==="ansi16"?"ansi":o;o===t?s[l]=e(r,i):typeof a=="object"&&(s[l]=e(a[t],i))}return s};function Of(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[r,n]of Object.entries(t)){for(const[i,s]of Object.entries(n))t[i]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[i]=t[i],e.set(s[0],s[1]);Object.defineProperty(t,r,{value:n,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",gt(t.color,"ansi",()=>yt(Vo,"ansi16",Fr,!1)),gt(t.color,"ansi256",()=>yt(Yo,"ansi256",Fr,!1)),gt(t.color,"ansi16m",()=>yt(Jo,"rgb",Qo,!1)),gt(t.bgColor,"ansi",()=>yt(Vo,"ansi16",Fr,!0)),gt(t.bgColor,"ansi256",()=>yt(Yo,"ansi256",Fr,!0)),gt(t.bgColor,"ansi16m",()=>yt(Jo,"rgb",Qo,!0)),t}Object.defineProperty(Wo,"exports",{enumerable:!0,get:Of})});var jr=p((yb,Xo)=>{"use strict";Xo.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var qr=p((wb,Zo)=>{"use strict";const If=require("os"),ea=require("tty"),he=jr(),{env:$}=process;let qe;he("no-color")||he("no-colors")||he("color=false")||he("color=never")?qe=0:(he("color")||he("colors")||he("color=true")||he("color=always"))&&(qe=1);"FORCE_COLOR"in $&&($.FORCE_COLOR==="true"?qe=1:$.FORCE_COLOR==="false"?qe=0:qe=$.FORCE_COLOR.length===0?1:Math.min(parseInt($.FORCE_COLOR,10),3));function mi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function gi(e,t){if(qe===0)return 0;if(he("color=16m")||he("color=full")||he("color=truecolor"))return 3;if(he("color=256"))return 2;if(e&&!t&&qe===void 0)return 0;const r=qe||0;if($.TERM==="dumb")return r;if(process.platform==="win32"){const n=If.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in $)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in $)||$.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in $)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($.TEAMCITY_VERSION)?1:0;if($.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in $){const n=parseInt(($.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test($.TERM)||"COLORTERM"in $?1:r}function _f(e){const t=gi(e,e&&e.isTTY);return mi(t)}Zo.exports={supportsColor:_f,stdout:mi(gi(!0,ea.isatty(1))),stderr:mi(gi(!0,ea.isatty(2)))}});var ra=p((bb,ta)=>{"use strict";const kf=(e,t,r)=>{let n=e.indexOf(t);if(n===-1)return e;const i=t.length;let s=0,o="";do o+=e.substr(s,n-s)+t+r,s=n+i,n=e.indexOf(t,s);while(n!==-1);return o+=e.substr(s),o},Rf=(e,t,r,n)=>{let i=0,s="";do{const o=e[n-1]==="\r";s+=e.substr(i,(o?n-1:n)-i)+t+(o?`\r
`:`
`)+r,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.substr(i),s};ta.exports={stringReplaceAll:kf,stringEncaseCRLFWithFirstIndex:Rf}});var aa=p((Mb,na)=>{"use strict";const Lf=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,ia=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Pf=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Nf=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,Ff=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function sa(e){const t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):Ff.get(e)||e}function jf(e,t){const r=[],n=t.trim().split(/\s*,\s*/g);let i;for(const s of n){const o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(Pf))r.push(i[2].replace(Nf,(a,l,d)=>l?sa(l):d));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${e}')`)}return r}function qf(e){ia.lastIndex=0;const t=[];let r;for(;(r=ia.exec(e))!==null;){const n=r[1];if(r[2]){const i=jf(n,r[2]);t.push([n].concat(i))}else t.push([n])}return t}function oa(e,t){const r={};for(const i of t)for(const s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=e;for(const[i,s]of Object.entries(r)){if(!Array.isArray(s))continue;if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}na.exports=(e,t)=>{const r=[],n=[];let i=[];if(t.replace(Lf,(s,o,a,l,d,u)=>{if(o)i.push(sa(o));else if(l){const c=i.join("");i=[],n.push(r.length===0?c:oa(e,r)(c)),r.push({inverse:a,styles:qf(l)})}else if(d){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(oa(e,r)(i.join(""))),i=[],r.pop()}else i.push(u)}),n.push(i.join("")),r.length>0){const s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var Te=p((vb,la)=>{"use strict";const Kt=Ko(),{stdout:yi,stderr:wi}=qr(),{stringReplaceAll:$f,stringEncaseCRLFWithFirstIndex:Bf}=ra(),{isArray:$r}=Array,ua=["ansi","ansi","ansi256","ansi16m"],wt=Object.create(null),Uf=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=yi?yi.level:0;e.level=t.level===void 0?r:t.level};class Gf{constructor(e){return ca(e)}}const ca=e=>{const t={};return Uf(t,e),t.template=(...r)=>da(t.template,...r),Object.setPrototypeOf(t,Br.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Gf,t.template};function Br(e){return ca(e)}for(const[e,t]of Object.entries(Kt))wt[e]={get(){const r=Ur(this,bi(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};wt.visible={get(){const e=Ur(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const fa=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of fa)wt[e]={get(){const{level:t}=this;return function(...r){const n=bi(Kt.color[ua[t]][e](...r),Kt.color.close,this._styler);return Ur(this,n,this._isEmpty)}}};for(const e of fa){const t="bg"+e[0].toUpperCase()+e.slice(1);wt[t]={get(){const{level:r}=this;return function(...n){const i=bi(Kt.bgColor[ua[r]][e](...n),Kt.bgColor.close,this._styler);return Ur(this,i,this._isEmpty)}}}}const zf=Object.defineProperties(()=>{},{...wt,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),bi=(e,t,r)=>{let n,i;return r===void 0?(n=e,i=t):(n=r.openAll+e,i=t+r.closeAll),{open:e,close:t,openAll:n,closeAll:i,parent:r}},Ur=(e,t,r)=>{const n=(...i)=>$r(i[0])&&$r(i[0].raw)?ha(n,da(n,...i)):ha(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,zf),n._generator=e,n._styler=t,n._isEmpty=r,n},ha=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;const{openAll:n,closeAll:i}=r;if(t.indexOf("")!==-1)for(;r!==void 0;)t=$f(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=Bf(t,i,n,s)),n+t+i};let Mi;const da=(e,...t)=>{const[r]=t;if(!$r(r)||!$r(r.raw))return t.join(" ");const n=t.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return Mi===void 0&&(Mi=aa()),Mi(e,i.join(""))};Object.defineProperties(Br.prototype,wt);const Gr=Br();Gr.supportsColor=yi;Gr.stderr=Br({level:wi?wi.level:0});Gr.stderr.supportsColor=wi;la.exports=Gr});var vi=p((Eb,pa)=>{var bt=1e3,Mt=bt*60,vt=Mt*60,Ze=vt*24,Hf=Ze*7,Wf=Ze*365.25;pa.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return Vf(e);if(r==="number"&&isFinite(e))return t.long?Jf(e):Yf(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Vf(e){if(e=String(e),e.length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Wf;case"weeks":case"week":case"w":return r*Hf;case"days":case"day":case"d":return r*Ze;case"hours":case"hour":case"hrs":case"hr":case"h":return r*vt;case"minutes":case"minute":case"mins":case"min":case"m":return r*Mt;case"seconds":case"second":case"secs":case"sec":case"s":return r*bt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}function Yf(e){var t=Math.abs(e);return t>=Ze?Math.round(e/Ze)+"d":t>=vt?Math.round(e/vt)+"h":t>=Mt?Math.round(e/Mt)+"m":t>=bt?Math.round(e/bt)+"s":e+"ms"}function Jf(e){var t=Math.abs(e);return t>=Ze?zr(e,t,Ze,"day"):t>=vt?zr(e,t,vt,"hour"):t>=Mt?zr(e,t,Mt,"minute"):t>=bt?zr(e,t,bt,"second"):e+" ms"}function zr(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Ei=p((Tb,ma)=>{function Qf(e){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=s,r.enabled=a,r.humanize=vi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let c=0;for(let f=0;f<u.length;f++)c=(c<<5)-c+u.charCodeAt(f),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(u){let c;function f(...h){if(!f.enabled)return;const m=f,b=Number(new Date),g=b-(c||b);m.diff=g,m.prev=c,m.curr=b,c=b,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(y,v)=>{if(y==="%%")return y;w++;const A=r.formatters[v];if(typeof A=="function"){const k=h[w];y=A.call(m,k),h.splice(w,1),w--}return y}),r.formatArgs.call(m,h);const M=m.log||r.log;M.apply(m,h)}return f.namespace=u,f.enabled=r.enabled(u),f.useColors=r.useColors(),f.color=r.selectColor(u),f.destroy=n,f.extend=i,typeof r.init=="function"&&r.init(f),r.instances.push(f),f}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,c){const f=r(this.namespace+(typeof c=="undefined"?":":c)+u);return f.log=this.log,f}function s(u){r.save(u),r.names=[],r.skips=[];let c;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(c=0;c<h;c++){if(!f[c])continue;u=f[c].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(c=0;c<r.instances.length;c++){const m=r.instances[c];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(c=>"-"+c)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let c,f;for(c=0,f=r.skips.length;c<f;c++)if(r.skips[c].test(u))return!1;for(c=0,f=r.names.length;c<f;c++)if(r.names[c].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function d(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}ma.exports=Qf});var ga=p((pe,Hr)=>{pe.formatArgs=Kf;pe.save=Xf;pe.load=Zf;pe.useColors=eh;pe.storage=th();pe.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function eh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Kf(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Hr.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}pe.log=console.debug||console.log||(()=>{});function Xf(e){try{e?pe.storage.setItem("debug",e):pe.storage.removeItem("debug")}catch(t){}}function Zf(){let e;try{e=pe.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function th(){try{return localStorage}catch(e){}}Hr.exports=Ei()(pe);const{formatters:rh}=Hr.exports;rh.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var wa=p((V,Wr)=>{const nh=require("tty"),Ti=require("util");V.init=ih;V.log=sh;V.formatArgs=oh;V.save=ah;V.load=lh;V.useColors=uh;V.colors=[6,2,3,4,5,1];try{const e=qr();e&&(e.stderr||e).level>=2&&(V.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}V.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function uh(){return"colors"in V.inspectOpts?Boolean(V.inspectOpts.colors):nh.isatty(process.stderr.fd)}function oh(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Wr.exports.humanize(this.diff)+"[0m")}else e[0]=ch()+t+" "+e[0]}function ch(){return V.inspectOpts.hideDate?"":new Date().toISOString()+" "}function sh(...e){return process.stderr.write(Ti.format(...e)+`
`)}function ah(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function lh(){return process.env.DEBUG}function ih(e){e.inspectOpts={};const t=Object.keys(V.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=V.inspectOpts[t[r]]}Wr.exports=Ei()(V);const{formatters:ya}=Wr.exports;ya.o=function(e){return this.inspectOpts.colors=this.useColors,Ti.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};ya.O=function(e){return this.inspectOpts.colors=this.useColors,Ti.inspect(e,this.inspectOpts)}});var Ci=p((Ab,Ai)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ai.exports=ga():Ai.exports=wa()});var Ma=p(Ae=>{"use strict";var dh=Ae&&Ae.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})},Di=Ae&&Ae.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.GeneratorProcess=Ae.GeneratorError=void 0;const fh=ui(),hh=Di(di()),ph=Di(Te()),mh=Di(Ci()),gh=mh.default("GeneratorProcess");let yh=1;class ba extends Error{constructor(e,t,r){super(e);this.code=t,this.data=r}}Ae.GeneratorError=ba;class wh{constructor(e){this.executablePath=e,this.listeners={},this.exitCode=null,this.stderrLogs=""}init(){return dh(this,void 0,void 0,function*(){return this.initPromise||(this.initPromise=this.initSingleton()),this.initPromise})}initSingleton(){return new Promise((e,t)=>{try{this.child=fh.spawn(this.executablePath,{stdio:["pipe","inherit","pipe"],env:Object.assign(Object.assign({},process.env),{PRISMA_GENERATOR_INVOCATION:"true"}),shell:!0}),this.child.on("exit",r=>{this.exitCode=r,r&&r>0&&this.currentGenerateDeferred&&this.currentGenerateDeferred.reject(new Error(this.stderrLogs.split(`
`).slice(-5).join(`
`)))}),this.child.on("error",r=>{this.lastError=r,r.message.includes("EACCES")?t(new Error(`The executable at ${this.executablePath} lacks the right chmod. Please use ${ph.default.bold(`chmod +x ${this.executablePath}`)}`)):t(r)}),hh.default(this.child.stderr).on("data",r=>{const n=String(r);this.stderrLogs+=n+`
`;let i;try{i=JSON.parse(n)}catch(s){gh(n)}i&&this.handleResponse(i)}),setTimeout(()=>{this.exitCode&&this.exitCode>0?t(new Error(`Generator at ${this.executablePath} could not start:

${this.stderrLogs}`)):e()},200)}catch(r){t(r)}})}handleResponse(e){if(e.jsonrpc&&e.id){if(typeof e.id!="number")throw new Error(`message.id has to be a number. Found value ${e.id}`);if(this.listeners[e.id]){if(e.error){const t=new ba(e.error.message,e.error.code,e.error.data);this.listeners[e.id](null,t)}else this.listeners[e.id](e.result);delete this.listeners[e.id]}}}registerListener(e,t){this.listeners[e]=t}sendMessage(e){this.child.stdin.write(JSON.stringify(e)+`
`)}getMessageId(){return yh++}stop(){this.child.killed||this.child.kill()}getManifest(){return new Promise((e,t)=>{const r=this.getMessageId();this.registerListener(r,(n,i)=>{if(i)return t(i);n.manifest?e(n.manifest):e(null)}),this.sendMessage({jsonrpc:"2.0",method:"getManifest",params:{},id:r})})}generate(e){return new Promise((t,r)=>{const n=this.getMessageId();this.currentGenerateDeferred={resolve:t,reject:r},this.registerListener(n,(i,s)=>{if(s){r(s),this.currentGenerateDeferred=void 0;return}t(i),this.currentGenerateDeferred=void 0}),this.sendMessage({jsonrpc:"2.0",method:"generate",params:e,id:n})})}}Ae.GeneratorProcess=wh});var va=p($e=>{"use strict";var bh=$e&&$e.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{d(n.next(u))}catch(c){o(c)}}function l(u){try{d(n.throw(u))}catch(c){o(c)}}function d(u){u.done?s(u.value):i(u.value).then(a,l)}d((n=n.apply(e,t||[])).next())})},Mh=$e&&$e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.generatorHandler=void 0;const vh=Mh(di());function Eh(e){vh.default(process.stdin).on("data",t=>bh(this,void 0,void 0,function*(){const r=JSON.parse(String(t));if(r.method==="generate"&&r.params)try{const n=yield e.onGenerate(r.params);Xt({jsonrpc:"2.0",result:n,id:r.id})}catch(n){Xt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}if(r.method==="getManifest")if(e.onManifest)try{const n=e.onManifest();Xt({jsonrpc:"2.0",result:{manifest:n},id:r.id})}catch(n){Xt({jsonrpc:"2.0",error:{code:-32e3,message:n.stack||n.message,data:null},id:r.id})}else Xt({jsonrpc:"2.0",result:{manifest:null},id:r.id})})),process.stdin.resume()}$e.generatorHandler=Eh;function Xt(e){console.error(JSON.stringify(e))}});var Ta=p(Ea=>{"use strict";Object.defineProperty(Ea,"__esModule",{value:!0})});var Aa=p(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.DMMF=void 0;var Th;(function(e){let t;(function(r){r.findOne="findOne",r.findFirst="findFirst",r.findMany="findMany",r.create="create",r.update="update",r.updateMany="updateMany",r.upsert="upsert",r.delete="delete",r.deleteMany="deleteMany"})(t=e.ModelAction||(e.ModelAction={}))})(Th=Zt.DMMF||(Zt.DMMF={}))});var xa=p(ee=>{"use strict";var Ah=ee&&ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ca=ee&&ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ah(t,e,r)};Object.defineProperty(ee,"__esModule",{value:!0});ee.generatorHandler=ee.GeneratorError=ee.GeneratorProcess=void 0;var Da=Ma();Object.defineProperty(ee,"GeneratorProcess",{enumerable:!0,get:function(){return Da.GeneratorProcess}});Object.defineProperty(ee,"GeneratorError",{enumerable:!0,get:function(){return Da.GeneratorError}});var Ch=va();Object.defineProperty(ee,"generatorHandler",{enumerable:!0,get:function(){return Ch.generatorHandler}});Ca(Ta(),ee);Ca(Aa(),ee)});var Vr=p((Ib,Sa)=>{"use strict";Sa.exports=(e,t=1,r)=>{if(r={indent:" ",includeEmptyLines:!1,...r},typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;const n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var Ia=p((_b,Oa)=>{"use strict";Oa.exports=function(){function e(t,r,n,i,s){return t<r||n<r?t>n?n+1:t+1:i===s?r:r+1}return function(t,r){if(t===r)return 0;if(t.length>r.length){var n=t;t=r,r=n}for(var i=t.length,s=r.length;i>0&&t.charCodeAt(i-1)===r.charCodeAt(s-1);)i--,s--;for(var o=0;o<i&&t.charCodeAt(o)===r.charCodeAt(o);)o++;if(i-=o,s-=o,i===0||s<3)return s;var a=0,l,d,u,c,f,h,m,b,g,w,M,y,v=[];for(l=0;l<i;l++)v.push(l+1),v.push(t.charCodeAt(o+l));for(var A=v.length-1;a<s-3;)for(g=r.charCodeAt(o+(d=a)),w=r.charCodeAt(o+(u=a+1)),M=r.charCodeAt(o+(c=a+2)),y=r.charCodeAt(o+(f=a+3)),h=a+=4,l=0;l<A;l+=2)m=v[l],b=v[l+1],d=e(m,d,u,g,b),u=e(d,u,c,w,b),c=e(u,c,f,M,b),h=e(c,f,h,y,b),v[l]=h,f=c,c=u,u=d,d=m;for(;a<s;)for(g=r.charCodeAt(o+(d=a)),h=++a,l=0;l<A;l+=2)m=v[l],v[l]=h=e(m,d,h,g,v[l+1]),d=m;return h}}()});var ka=p((kb,_a)=>{"use strict";_a.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}});var er=p((Rb,Ra)=>{"use strict";const Dh=ka();Ra.exports=e=>typeof e=="string"?e.replace(Dh(),""):e});var Pa=p((Lb,La)=>{"use strict";La.exports=e=>Object.prototype.toString.call(e)==="[object RegExp]"});var Fa=p((Pb,Na)=>{"use strict";Na.exports=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}});var ja=p(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.default=e=>Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))});var qa=p(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});var tr="<unknown>";function kh(e){var t=e.split(`
`);return t.reduce(function(r,n){var i=xh(n)||Sh(n)||Oh(n)||_h(n)||Ih(n);return i&&r.push(i),r},[])}var Rh=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Lh=/\((\S*)(?::(\d+))(?::(\d+))\)/;function xh(e){var t=Rh.exec(e);if(!t)return null;var r=t[2]&&t[2].indexOf("native")===0,n=t[2]&&t[2].indexOf("eval")===0,i=Lh.exec(t[2]);return n&&i!=null&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{file:r?null:t[2],methodName:t[1]||tr,arguments:r?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}var Ph=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Sh(e){var t=Ph.exec(e);return t?{file:t[2],methodName:t[1]||tr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}var Nh=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,Fh=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Oh(e){var t=Nh.exec(e);if(!t)return null;var r=t[3]&&t[3].indexOf(" > eval")>-1,n=Fh.exec(t[3]);return r&&n!=null&&(t[3]=n[1],t[4]=n[2],t[5]=null),{file:t[3],methodName:t[1]||tr,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}var jh=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i;function Ih(e){var t=jh.exec(e);return t?{file:t[3],methodName:t[1]||tr,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}var qh=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i;function _h(e){var t=qh.exec(e);return t?{file:t[2],methodName:t[1]||tr,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}Si.parse=kh});var Ba=p((jb,$a)=>{"use strict";$a.exports=e=>{const t=e.match(/^[ \t]*(?=\S)/gm);return t?t.reduce((r,n)=>Math.min(r,n.length),Infinity):0}});var Ga=p((qb,Ua)=>{"use strict";const $h=Ba();Ua.exports=e=>{const t=$h(e);if(t===0)return e;const r=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(r,"")}});var Oi=p(($b,za)=>{function Bh(e){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=s,r.enabled=a,r.humanize=vi(),Object.keys(e).forEach(u=>{r[u]=e[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function t(u){let c=0;for(let f=0;f<u.length;f++)c=(c<<5)-c+u.charCodeAt(f),c|=0;return r.colors[Math.abs(c)%r.colors.length]}r.selectColor=t;function r(u){let c;function f(...h){if(!f.enabled)return;const m=f,b=Number(new Date),g=b-(c||b);m.diff=g,m.prev=c,m.curr=b,c=b,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let w=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(y,v)=>{if(y==="%%")return y;w++;const A=r.formatters[v];if(typeof A=="function"){const k=h[w];y=A.call(m,k),h.splice(w,1),w--}return y}),r.formatArgs.call(m,h);const M=m.log||r.log;M.apply(m,h)}return f.namespace=u,f.enabled=r.enabled(u),f.useColors=r.useColors(),f.color=t(u),f.destroy=n,f.extend=i,typeof r.init=="function"&&r.init(f),r.instances.push(f),f}function n(){const u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function i(u,c){const f=r(this.namespace+(typeof c=="undefined"?":":c)+u);return f.log=this.log,f}function s(u){r.save(u),r.names=[],r.skips=[];let c;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(c=0;c<h;c++){if(!f[c])continue;u=f[c].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$"))}for(c=0;c<r.instances.length;c++){const m=r.instances[c];m.enabled=r.enabled(m.namespace)}}function o(){const u=[...r.names.map(l),...r.skips.map(l).map(c=>"-"+c)].join(",");return r.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let c,f;for(c=0,f=r.skips.length;c<f;c++)if(r.skips[c].test(u))return!1;for(c=0,f=r.names.length;c<f;c++)if(r.names[c].test(u))return!0;return!1}function l(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function d(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}za.exports=Bh});var Ha=p((me,Yr)=>{me.log=Uh;me.formatArgs=Gh;me.save=zh;me.load=Hh;me.useColors=Wh;me.storage=Vh();me.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Wh(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Gh(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Yr.exports.humanize(this.diff),!this.useColors)return;const t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{if(i==="%%")return;r++,i==="%c"&&(n=r)}),e.splice(n,0,t)}function Uh(...e){return typeof console=="object"&&console.log&&console.log(...e)}function zh(e){try{e?me.storage.setItem("debug",e):me.storage.removeItem("debug")}catch(t){}}function Hh(){let e;try{e=me.storage.getItem("debug")}catch(t){}return!e&&typeof process!="undefined"&&"env"in process&&(e=process.env.DEBUG),e}function Vh(){try{return localStorage}catch(e){}}Yr.exports=Oi()(me);const{formatters:Yh}=Yr.exports;Yh.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Va=p((Y,Jr)=>{const Jh=require("tty"),Ii=require("util");Y.init=Qh;Y.log=Kh;Y.formatArgs=Xh;Y.save=Zh;Y.load=ep;Y.useColors=tp;Y.colors=[6,2,3,4,5,1];try{const e=qr();e&&(e.stderr||e).level>=2&&(Y.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}Y.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase());let n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function tp(){return"colors"in Y.inspectOpts?Boolean(Y.inspectOpts.colors):Jh.isatty(process.stderr.fd)}function Xh(e){const{namespace:t,useColors:r}=this;if(r){const n=this.color,i="[3"+(n<8?n:"8;5;"+n),s=`  ${i};1m${t} [0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(i+"m+"+Jr.exports.humanize(this.diff)+"[0m")}else e[0]=rp()+t+" "+e[0]}function rp(){return Y.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Kh(...e){return process.stderr.write(Ii.format(...e)+`
`)}function Zh(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function ep(){return process.env.DEBUG}function Qh(e){e.inspectOpts={};const t=Object.keys(Y.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=Y.inspectOpts[t[r]]}Jr.exports=Oi()(Y);const{formatters:Wa}=Jr.exports;Wa.o=function(e){return this.inspectOpts.colors=this.useColors,Ii.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")};Wa.O=function(e){return this.inspectOpts.colors=this.useColors,Ii.inspect(e,this.inspectOpts)}});var Ya=p((Bb,_i)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?_i.exports=Ha():_i.exports=Va()});var rr=p(et=>{"use strict";var np=et&&et.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(et,"__esModule",{value:!0});et.getLogs=void 0;const Qr=np(Ya()),Kr=[],ip=100,Ja=[],Xr=new Map,Qa=process.env.DEBUG?process.env.DEBUG+",":"",sp=Qr.default.skips.slice(),op=Qr.default.names.slice();function ap(e){if(e[e.length-1]==="*")return!0;for(const t of sp)if(t.test(e))return!1;for(const t of op)if(t.test(e))return!0;return!1}function ki(e){const t=Qr.default(e);Ja.push(e),Qr.default.enable(Qa+Ja.join(",")),process.env.DEBUG=Qa,ap(e)&&Xr.set(e,!0);const r=(n,...i)=>t(n,...i);return r.log=console.error.bind(console),r.color=t.color,r.namespace=t.namespace,r.enabled=t.enabled,r.destroy=t.destroy,r.extend=t.extend,t.log=(...n)=>{Kr.push(n),Kr.length>ip&&Kr.shift(),Xr.has(e)&&r.log(...n)},r}et.default=ki;ki.enable=e=>{Xr.set(e,!0)};ki.enabled=e=>Xr.has(e);function lp(e=7500){let t=Kr.map(r=>r.join("  ")).join(`
`);return t.length<e?t:t.slice(-e)}et.getLogs=lp});var Ri=p(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.convertLog=Et.isRustError=void 0;function up(e){return typeof e.is_panic!="undefined"}Et.isRustError=up;function dp(e){const t=cp(e.fields),r=t?"query":e.level.toLowerCase();return{...e,level:r,timestamp:new Date(new Date().getFullYear()+" "+e.timestamp)}}Et.convertLog=dp;function cp(e){return Boolean(e.query)}});var Xa=p((zb,Li)=>{"use strict";const x=Li.exports;Li.exports.default=x;const _="[",nr="]",Tt="\x07",Zr=";",Ka=process.env.TERM_PROGRAM==="Apple_Terminal";x.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?_+(e+1)+"G":_+(t+1)+";"+(e+1)+"H"};x.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=_+-e+"D":e>0&&(r+=_+e+"C"),t<0?r+=_+-t+"A":t>0&&(r+=_+t+"B"),r};x.cursorUp=(e=1)=>_+e+"A";x.cursorDown=(e=1)=>_+e+"B";x.cursorForward=(e=1)=>_+e+"C";x.cursorBackward=(e=1)=>_+e+"D";x.cursorLeft=_+"G";x.cursorSavePosition=Ka?"7":_+"s";x.cursorRestorePosition=Ka?"8":_+"u";x.cursorGetPosition=_+"6n";x.cursorNextLine=_+"E";x.cursorPrevLine=_+"F";x.cursorHide=_+"?25l";x.cursorShow=_+"?25h";x.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=x.eraseLine+(r<e-1?x.cursorUp():"");return e&&(t+=x.cursorLeft),t};x.eraseEndLine=_+"K";x.eraseStartLine=_+"1K";x.eraseLine=_+"2K";x.eraseDown=_+"J";x.eraseUp=_+"1J";x.eraseScreen=_+"2J";x.scrollUp=_+"S";x.scrollDown=_+"T";x.clearScreen="c";x.clearTerminal=process.platform==="win32"?`${x.eraseScreen}${_}0f`:`${x.eraseScreen}${_}3J${_}H`;x.beep=Tt;x.link=(e,t)=>[nr,"8",Zr,Zr,t,Tt,e,nr,"8",Zr,Zr,Tt].join("");x.image=(e,t={})=>{let r=`${nr}1337;File=inline=1`;return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+Tt};x.iTerm={setCwd:(e=process.cwd())=>`${nr}50;CurrentDir=${e}${Tt}`,annotation:(e,t={})=>{let r=`${nr}1337;`;const n=typeof t.x!="undefined",i=typeof t.y!="undefined";if((n||i)&&!(n&&i&&typeof t.length!="undefined"))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),r+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",t.length>0?r+=(n?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):r+=e,r+Tt}}});var tl=p((Hb,Za)=>{"use strict";const fp=require("os"),el=require("tty"),ge=jr(),{env:q}=process;let Be;ge("no-color")||ge("no-colors")||ge("color=false")||ge("color=never")?Be=0:(ge("color")||ge("colors")||ge("color=true")||ge("color=always"))&&(Be=1);"FORCE_COLOR"in q&&(q.FORCE_COLOR==="true"?Be=1:q.FORCE_COLOR==="false"?Be=0:Be=q.FORCE_COLOR.length===0?1:Math.min(parseInt(q.FORCE_COLOR,10),3));function Pi(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Ni(e,t){if(Be===0)return 0;if(ge("color=16m")||ge("color=full")||ge("color=truecolor"))return 3;if(ge("color=256"))return 2;if(e&&!t&&Be===void 0)return 0;const r=Be||0;if(q.TERM==="dumb")return r;if(process.platform==="win32"){const n=fp.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in q)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in q)||q.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in q)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(q.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in q)return 1;if(q.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in q){const n=parseInt((q.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(q.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(q.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(q.TERM)||"COLORTERM"in q?1:r}function hp(e){const t=Ni(e,e&&e.isTTY);return Pi(t)}Za.exports={supportsColor:hp,stdout:Pi(Ni(!0,el.isatty(1))),stderr:Pi(Ni(!0,el.isatty(2)))}});var il=p((Wb,rl)=>{"use strict";const pp=tl(),At=jr();function nl(e){if(/^\d{3,4}$/.test(e)){const r=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(r[1],10),patch:parseInt(r[2],10)}}const t=(e||"").split(".").map(r=>parseInt(r,10));return{major:t[0],minor:t[1],patch:t[2]}}function Fi(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&parseInt(t.FORCE_HYPERLINK,10)===0);if(At("no-hyperlink")||At("no-hyperlinks")||At("hyperlink=false")||At("hyperlink=never"))return!1;if(At("hyperlink=true")||At("hyperlink=always"))return!0;if(!pp.supportsColor(e))return!1;if(e&&!e.isTTY)return!1;if(process.platform==="win32")return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const r=nl(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return r.major===3?r.minor>=1:r.major>3}}if("VTE_VERSION"in t){if(t.VTE_VERSION==="0.50.0")return!1;const r=nl(t.VTE_VERSION);return r.major>0||r.minor>=50}return!1}rl.exports={supportsHyperlink:Fi,stdout:Fi(process.stdout),stderr:Fi(process.stderr)}});var ol=p((Vb,ir)=>{"use strict";const mp=Xa(),ji=il(),sl=(e,t,{target:r="stdout",...n}={})=>ji[r]?mp.link(e,t):n.fallback===!1?e:typeof n.fallback=="function"?n.fallback(e,t):`${e} (​${t}​)`;ir.exports=(e,t,r={})=>sl(e,t,r);ir.exports.stderr=(e,t,r={})=>sl(e,t,{target:"stderr",...r});ir.exports.isSupported=ji.stdout;ir.exports.stderr.isSupported=ji.stderr});var al=p((Yb,en)=>{"use strict";en.exports=(e={})=>{let t;if(e.repoUrl)t=e.repoUrl;else if(e.user&&e.repo)t=`https://github.com/${e.user}/${e.repo}`;else throw new Error("You need to specify either the `repoUrl` option or both the `user` and `repo` options");const r=new URL(`${t}/issues/new`),n=["body","title","labels","template","milestone","assignee","projects"];for(const i of n){let s=e[i];if(s===void 0)continue;if(i==="labels"||i==="projects"){if(!Array.isArray(s))throw new TypeError(`The \`${i}\` option should be an array`);s=s.join(",")}r.searchParams.set(i,s)}return r.toString()};en.exports.default=en.exports});var tn=p(te=>{"use strict";var Ct=te&&te.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(te,"__esModule",{value:!0});te.getRandomString=te.getGithubIssueUrl=te.link=te.fixBinaryTargets=te.plusX=void 0;const ll=Ct(require("fs")),gp=Ct(ol()),yp=Ct(al()),wp=Ct(Te()),bp=Ct(rr()),Mp=Ct(require("crypto")),ul=bp.default("plusX");function vp(e){const t=ll.default.statSync(e),r=t.mode|64|8|1;if(t.mode===r){ul(`Execution permissions of ${e} are fine`);return}const n=r.toString(8).slice(-3);ul(`Have to call plusX on ${e}`),ll.default.chmodSync(e,n)}te.plusX=vp;function Ep(e,t){return e=e||[],e.includes("native")?[...e,t]:["native",...e]}te.fixBinaryTargets=Ep;function Tp(e){return gp.default(e,e,{fallback:t=>wp.default.underline(t)})}te.link=Tp;function Ap({title:e,user:t="prisma",repo:r="prisma-client-js",template:n="bug_report.md",body:i}){return yp.default({user:t,repo:r,template:n,title:e,body:i})}te.getGithubIssueUrl=Ap;function Cp(){return Mp.default.randomBytes(12).toString("hex")}te.getRandomString=Cp});var qi=p(B=>{"use strict";var Dp=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0});B.getErrorMessageWithLink=B.PrismaClientInitializationError=B.PrismaClientRustPanicError=B.PrismaClientUnknownRequestError=B.PrismaClientKnownRequestError=B.getMessage=B.PrismaQueryEngineError=void 0;const xp=Ri(),Sp=rr(),cl=tn(),dl=Dp(er());class Op extends Error{constructor(e,t){super(e);this.code=t}}B.PrismaQueryEngineError=Op;function Ip(e){return typeof e=="string"?e:xp.isRustError(e)?e.message:e.fields&&e.fields.message?e.fields.reason?`${e.fields.message}: ${e.fields.reason}`:e.fields.message:JSON.stringify(e)}B.getMessage=Ip;class _p extends Error{constructor(e,t,r){super(e);this.code=t,this.meta=r}}B.PrismaClientKnownRequestError=_p;class kp extends Error{constructor(e){super(e)}}B.PrismaClientUnknownRequestError=kp;class Rp extends Error{constructor(e){super(e)}}B.PrismaClientRustPanicError=Rp;class Lp extends Error{constructor(e){super(e)}}B.PrismaClientInitializationError=Lp;function Np({version:e,platform:t,title:r,description:n}){const i=Pp(dl.default(Sp.getLogs())),s=n?`# Description
\`\`\`
${n}
\`\`\``:"",o=dl.default(`Hi Prisma Team! My Prisma Client just crashed. This is the report:
## Versions

| Name            | Version            |
|-----------------|--------------------|
| Node            | ${process.version.padEnd(19)}| 
| OS              | ${t.padEnd(19)}|
| Prisma Client   | ${e.padEnd(19)}|

${s}

## Logs
\`\`\`
${i}
\`\`\``),a=cl.getGithubIssueUrl({title:r,body:o});return`${r}

This is a non-recoverable error which probably happens when the Prisma Query Engine has a panic.

${cl.link(a)}

If you want the Prisma team to look into it, please open the link above 🙏
`}B.getErrorMessageWithLink=Np;function Pp(e){return e.split(`
`).map(t=>t.replace(/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)\s*/,"").replace(/\+\d+\s*ms$/,"")).join(`
`)}});var vl=p(J=>{"use strict";var fl=J&&J.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J,"__esModule",{value:!0});J.getPlatform=J.getOpenSSLVersion=J.parseOpenSSLVersion=J.resolveDistro=J.parseDistro=J.getos=void 0;const Fp=fl(require("os")),hl=fl(require("fs")),pl=require("util"),jp=require("child_process"),qp=pl.promisify(hl.default.readFile),ml=pl.promisify(hl.default.exists);async function wl(){const e=Fp.default.platform();if(e==="freebsd"){const t=await $i("freebsd-version");if(t&&t.trim().length>0){const r=/^(\d+)\.?/,n=r.exec(t);if(n)return{platform:"freebsd",distro:`freebsd${n[1]}`}}}return e!=="linux"?{platform:e}:{platform:"linux",libssl:await yl(),distro:await gl()}}J.getos=wl;function bl(e){const t=/^ID="?([^"\n]*)"?$/im,r=/^ID_LIKE="?([^"\n]*)"?$/im,n=t.exec(e),i=n&&n[1]&&n[1].toLowerCase()||"",s=r.exec(e),o=s&&s[1]&&s[1].toLowerCase()||"";return i==="raspbian"?"arm":i==="nixos"?"nixos":o.includes("centos")||o.includes("fedora")||o.includes("rhel")||i==="fedora"?"rhel":o.includes("debian")||o.includes("ubuntu")||i==="debian"?"debian":void 0}J.parseDistro=bl;async function gl(){const e="/etc/os-release",t="/etc/alpine-release";return await ml(t)?"musl":await ml(e)?bl(await qp(e,"utf-8")):void 0}J.resolveDistro=gl;function Ml(e){const t=/^OpenSSL\s(\d+\.\d+)\.\d+/.exec(e);return t?t[1]+".x":void 0}J.parseOpenSSLVersion=Ml;async function yl(){const[e,t]=await Promise.all([$i("openssl version -v"),$i(`
      ls -l /lib64 | grep ssl;
      ls -l /usr/lib64 | grep ssl;
    `)]);if(e){const r=Ml(e);if(r)return r}if(t){const r=/libssl\.so\.(\d+\.\d+)\.\d+/.exec(t);if(r)return r[1]+".x"}return}J.getOpenSSLVersion=yl;async function $i(e){return new Promise(t=>{try{jp.exec(e,(r,n)=>{t(String(n))})}catch(r){t(void 0);return}})}async function $p(){const{platform:e,libssl:t,distro:r}=await wl();return e==="darwin"?"darwin":e==="win32"?"windows":e==="freebsd"?r:e==="openbsd"?"openbsd":e==="netbsd"?"netbsd":e==="linux"&&r==="nixos"?"linux-nixos":e==="linux"&&r==="musl"?"linux-musl":e==="linux"&&r&&t?r+"-openssl-"+t:t?"debian-openssl-"+t:r?r+"-openssl-1.1.x":"debian-openssl-1.1.x"}J.getPlatform=$p});var Bi=p(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.mayBeCompatible=Dt.platforms=void 0;Dt.platforms=["darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"];function Bp(e,t){return e.startsWith("freebsd")||t.startsWith("freebsd")?!1:e==="native"||t==="native"?!0:e==="darwin"||t==="darwin"?!1:!(e==="windows"||t==="windows")}Dt.mayBeCompatible=Bp});var Tl=p(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.platforms=Ce.mayBeCompatible=Ce.getos=Ce.getPlatform=void 0;var El=vl();Object.defineProperty(Ce,"getPlatform",{enumerable:!0,get:function(){return El.getPlatform}});Object.defineProperty(Ce,"getos",{enumerable:!0,get:function(){return El.getos}});var Up=Bi();Object.defineProperty(Ce,"mayBeCompatible",{enumerable:!0,get:function(){return Up.mayBeCompatible}});var Gp=Bi();Object.defineProperty(Ce,"platforms",{enumerable:!0,get:function(){return Gp.platforms}})});var Ui=p(De=>{"use strict";var zp=De&&De.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(De,"__esModule",{value:!0});De.printDatamodelObject=De.GeneratorConfigClass=De.printGeneratorConfig=void 0;const Hp=zp(Vr());function Wp(e){return String(new Al(e))}De.printGeneratorConfig=Wp;class Al{constructor(e){this.config=e}toString(){const{config:e}=this,t=JSON.parse(JSON.stringify({provider:e.provider,binaryTargets:e.binaryTargets||void 0}));return`generator ${e.name} {
${Hp.default(Cl(t),2)}
}`}}De.GeneratorConfigClass=Al;function Cl(e){const t=Object.keys(e).reduce((r,n)=>Math.max(r,n.length),0);return Object.entries(e).map(([r,n])=>`${r.padEnd(t)} = ${Vp(n)}`).join(`
`)}De.printDatamodelObject=Cl;function Vp(e){return JSON.parse(JSON.stringify(e,(t,r)=>Array.isArray(r)?`[${r.map(n=>JSON.stringify(n)).join(", ")}]`:JSON.stringify(r)))}});var zi=p((sr,rn)=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.createLineStream=void 0;var Gi=require("stream"),Yp=require("util");function Jp(e,t){return rn.exports.createStream(e,t)}sr.default=Jp;rn.exports.createStream=function(e,t){return e?Dl(e,t):new Ue(t)};function Dl(e,t){if(!e)throw new Error("expected readStream");if(!e.readable)throw new Error("readStream must be readable");var r=new Ue(t);return e.pipe(r),r}sr.createLineStream=Dl;rn.exports.LineStream=Ue;function Ue(e){Gi.Transform.call(this,e),e=e||{},this._readableState.objectMode=!0,this._lineBuffer=[],this._keepEmptyLines=e.keepEmptyLines||!1,this._lastChunkEndedWithCR=!1,this.on("pipe",function(t){this.encoding||t instanceof Gi.Readable&&(this.encoding=t._readableState.encoding)})}Yp.inherits(Ue,Gi.Transform);Ue.prototype._transform=function(e,t,r){t=t||"utf8",Buffer.isBuffer(e)&&(t=="buffer"?(e=e.toString(),t="utf8"):e=e.toString(t)),this._chunkEncoding=t;var n=e.split(/\r\n|\r|\n/g);this._lastChunkEndedWithCR&&e[0]==`
`&&n.shift(),this._lineBuffer.length>0&&(this._lineBuffer[this._lineBuffer.length-1]+=n[0],n.shift()),this._lastChunkEndedWithCR=e[e.length-1]=="\r",this._lineBuffer=this._lineBuffer.concat(n),this._pushBuffer(t,1,r)};Ue.prototype._pushBuffer=function(e,t,r){for(;this._lineBuffer.length>t;){var n=this._lineBuffer.shift();if((this._keepEmptyLines||n.length>0)&&!this.push(this._reencode(n,e))){var i=this;setImmediate(function(){i._pushBuffer(e,t,r)});return}}r()};Ue.prototype._flush=function(e){this._pushBuffer(this._chunkEncoding,0,e)};Ue.prototype._reencode=function(e,t){return this.encoding&&this.encoding!=t?Buffer.from(e,t).toString(this.encoding):this.encoding?e:Buffer.from(e,t)}});var Sl=p((t0,xl)=>{function ye(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}xl.exports=ye;ye.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};ye.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};ye.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(r===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),r=this._timeouts.shift();else return!1;var n=this,i=setTimeout(function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout(function(){n._operationTimeoutCb(n._attempts)},n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)},r);return this._options.unref&&i.unref(),!0};ye.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){r._operationTimeoutCb()},r._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};ye.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};ye.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};ye.prototype.start=ye.prototype.try;ye.prototype.errors=function(){return this._errors};ye.prototype.attempts=function(){return this._attempts};ye.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}});var Ol=p(tt=>{var Qp=Sl();tt.operation=function(e){var t=tt.timeouts(e);return new Qp(t,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};tt.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort(function(s,o){return s-o}),n};tt.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*t.minTimeout*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout),n};tt.wrap=function(e,t,r){if(t instanceof Array&&(r=t,t=null),!r){r=[];for(var n in e)typeof e[n]=="function"&&r.push(n)}for(var i=0;i<r.length;i++){var s=r[i],o=e[s];e[s]=function(l){var d=tt.operation(t),u=Array.prototype.slice.call(arguments,1),c=u.pop();u.push(function(f){if(d.retry(f))return;f&&(arguments[0]=d.mainError()),c.apply(this,arguments)}),d.attempt(function(){l.apply(e,u)})}.bind(e,o),e[s].options=t}}});var _l=p((n0,Il)=>{Il.exports=Ol()});var Ll=p((i0,nn)=>{"use strict";const Kp=_l();class kl extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const Xp=(e,t,r)=>{const n=r.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=n,e},Rl=(e,t)=>new Promise((r,n)=>{t={onFailedAttempt:()=>{},retries:10,...t};const i=Kp.operation(t);i.attempt(async s=>{try{r(await e(s))}catch(o){if(!(o instanceof Error)){n(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof kl)i.stop(),n(o.originalError);else if(o instanceof TypeError)i.stop(),n(o);else{Xp(o,s,t);try{await t.onFailedAttempt(o)}catch(a){n(a);return}i.retry(o)||n(i.mainError())}}})});nn.exports=Rl;nn.exports.default=Rl;nn.exports.AbortError=kl});var Nl=p((s0,Pl)=>{"use strict";Pl.exports=e=>{const t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var ql=p((o0,or)=>{"use strict";const ar=require("path"),Fl=ti(),jl=e=>{e={cwd:process.cwd(),path:process.env[Fl()],execPath:process.execPath,...e};let t,r=ar.resolve(e.cwd);const n=[];for(;t!==r;)n.push(ar.join(r,"node_modules/.bin")),t=r,r=ar.resolve(r,"..");const i=ar.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(ar.delimiter)};or.exports=jl;or.exports.default=jl;or.exports.env=e=>{e={env:process.env,...e};const t={...e.env},r=Fl({env:t});return e.path=t[r],t[r]=or.exports(e),t}});var Bl=p((a0,Hi)=>{"use strict";const $l=(e,t)=>{for(const r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};Hi.exports=$l;Hi.exports.default=$l});var Gl=p((l0,sn)=>{"use strict";const Zp=Bl(),on=new WeakMap,Ul=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=!1,i=0;const s=e.displayName||e.name||"<anonymous>",o=function(...a){if(on.set(o,++i),n){if(t.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r}return n=!0,r=e.apply(this,a),e=null,r};return Zp(o,e),on.set(o,i),o};sn.exports=Ul;sn.exports.default=Ul;sn.exports.callCount=e=>{if(!on.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return on.get(e)}});var zl=p(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.SIGNALS=void 0;const em=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];an.SIGNALS=em});var Wi=p(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.SIGRTMAX=xt.getRealtimeSignals=void 0;const rm=function(){const e=Wl-Hl+1;return Array.from({length:e},tm)};xt.getRealtimeSignals=rm;const tm=function(e,t){return{name:`SIGRT${t+1}`,number:Hl+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Hl=34,Wl=64;xt.SIGRTMAX=Wl});var Vl=p(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.getSignals=void 0;var nm=require("os"),im=zl(),sm=Wi();const am=function(){const e=(0,sm.getRealtimeSignals)(),t=[...im.SIGNALS,...e].map(om);return t};ln.getSignals=am;const om=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:s}){const{signals:{[e]:o}}=nm.constants,a=o!==void 0,l=a?o:t;return{name:e,number:l,description:r,supported:a,action:n,forced:i,standard:s}}});var Jl=p(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.signalsByNumber=St.signalsByName=void 0;var lm=require("os"),Yl=Vl(),um=Wi();const dm=function(){const e=(0,Yl.getSignals)();return e.reduce(cm,{})},cm=function(e,{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}){return{...e,[t]:{name:t,number:r,description:n,supported:i,action:s,forced:o,standard:a}}},fm=dm();St.signalsByName=fm;const pm=function(){const e=(0,Yl.getSignals)(),t=um.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>hm(i,e));return Object.assign({},...r)},hm=function(e,t){const r=mm(e,t);if(r===void 0)return{};const{name:n,description:i,supported:s,action:o,forced:a,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:s,action:o,forced:a,standard:l}}},mm=function(e,t){const r=t.find(({name:n})=>lm.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},gm=pm();St.signalsByNumber=gm});var Kl=p((h0,Ql)=>{"use strict";const{signalsByName:ym}=Jl(),wm=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:s!==void 0?`failed with exit code ${s}`:"failed",bm=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:s,command:o,timedOut:a,isCanceled:l,killed:d,parsed:{options:{timeout:u}}})=>{s=s===null?void 0:s,i=i===null?void 0:i;const c=i===void 0?void 0:ym[i].description,f=n&&n.code,h=wm({timedOut:a,timeout:u,errorCode:f,signal:i,signalDescription:c,exitCode:s,isCanceled:l}),m=`Command ${h}: ${o}`,b=Object.prototype.toString.call(n)==="[object Error]",g=b?`${m}
${n.message}`:m,w=[g,t,e].filter(Boolean).join(`
`);return b?(n.originalMessage=n.message,n.message=w):n=new Error(w),n.shortMessage=g,n.command=o,n.exitCode=s,n.signal=i,n.signalDescription=c,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(a),n.isCanceled=l,n.killed=d&&!a,n};Ql.exports=bm});var Zl=p((p0,Vi)=>{"use strict";const un=["stdin","stdout","stderr"],Mm=e=>un.some(t=>e[t]!==void 0),Xl=e=>{if(!e)return;const{stdio:t}=e;if(t===void 0)return un.map(n=>e[n]);if(Mm(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${un.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,un.length);return Array.from({length:r},(n,i)=>t[i])};Vi.exports=Xl;Vi.exports.node=e=>{const t=Xl(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var eu=p((m0,cn)=>{cn.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&cn.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&cn.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var nu=p((g0,lr)=>{var vm=require("assert"),ur=eu(),Em=/^win/i.test(process.platform),dn=require("events");typeof dn!="function"&&(dn=dn.EventEmitter);var W;process.__signal_exit_emitter__?W=process.__signal_exit_emitter__:(W=process.__signal_exit_emitter__=new dn,W.count=0,W.emitted={});W.infinite||(W.setMaxListeners(Infinity),W.infinite=!0);lr.exports=function(e,t){vm.equal(typeof e,"function","a callback must be provided for exit handler"),cr===!1&&tu();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){W.removeListener(r,e),W.listeners("exit").length===0&&W.listeners("afterexit").length===0&&Yi()};return W.on(r,e),n};lr.exports.unload=Yi;function Yi(){if(!cr)return;cr=!1,ur.forEach(function(e){try{process.removeListener(e,Ji[e])}catch(t){}}),process.emit=Qi,process.reallyExit=ru,W.count-=1}function Ot(e,t,r){if(W.emitted[e])return;W.emitted[e]=!0,W.emit(e,t,r)}var Ji={};ur.forEach(function(e){Ji[e]=function(){var r=process.listeners(e);r.length===W.count&&(Yi(),Ot("exit",null,e),Ot("afterexit",null,e),Em&&e==="SIGHUP"&&(e="SIGINT"),process.kill(process.pid,e))}});lr.exports.signals=function(){return ur};lr.exports.load=tu;var cr=!1;function tu(){if(cr)return;cr=!0,W.count+=1,ur=ur.filter(function(e){try{return process.on(e,Ji[e]),!0}catch(t){return!1}}),process.emit=Am,process.reallyExit=Tm}var ru=process.reallyExit;function Tm(e){process.exitCode=e||0,Ot("exit",process.exitCode,null),Ot("afterexit",process.exitCode,null),ru.call(process,process.exitCode)}var Qi=process.emit;function Am(e,t){if(e==="exit"){t!==void 0&&(process.exitCode=t);var r=Qi.apply(this,arguments);return Ot("exit",process.exitCode,null),Ot("afterexit",process.exitCode,null),r}else return Qi.apply(this,arguments)}});var su=p((y0,iu)=>{"use strict";const Cm=require("os"),Dm=nu(),xm=1e3*5,Om=(e,t="SIGTERM",r={})=>{const n=e(t);return Sm(e,t,r,n),n},Sm=(e,t,r,n)=>{if(!Im(t,r,n))return;const i=_m(r),s=setTimeout(()=>{e("SIGKILL")},i);s.unref&&s.unref()},Im=(e,{forceKillAfterTimeout:t},r)=>km(e)&&t!==!1&&r,km=e=>e===Cm.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",_m=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return xm;if(!Number.isInteger(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},Rm=(e,t)=>{const r=e.kill();r&&(t.isCanceled=!0)},Lm=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},Pm=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;if(!Number.isInteger(t)||t<0)throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);let i;const s=new Promise((a,l)=>{i=setTimeout(()=>{Lm(e,r,l)},t)}),o=n.finally(()=>{clearTimeout(i)});return Promise.race([s,o])},Nm=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;const i=Dm(()=>{e.kill()});return n.finally(()=>{i()})};iu.exports={spawnedKill:Om,spawnedCancel:Rm,setupTimeout:Pm,setExitHandler:Nm}});var au=p((w0,ou)=>{"use strict";const xe=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";xe.writable=e=>xe(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";xe.readable=e=>xe(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";xe.duplex=e=>xe.writable(e)&&xe.readable(e);xe.transform=e=>xe.duplex(e)&&typeof e._transform=="function"&&typeof e._transformState=="object";ou.exports=xe});var cu=p((b0,lu)=>{lu.exports=uu;function uu(e,t){if(e&&t)return uu(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var Xi=p((M0,Ki)=>{var du=cu();Ki.exports=du(fn);Ki.exports.strict=du(fu);fn.proto=fn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return fn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return fu(this)},configurable:!0})});function fn(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function fu(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var mu=p((v0,hu)=>{var Fm=Xi(),jm=function(){},qm=function(e){return e.setHeader&&typeof e.abort=="function"},$m=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},pu=function(e,t,r){if(typeof t=="function")return pu(e,null,t);t||(t={}),r=Fm(r||jm);var n=e._writableState,i=e._readableState,s=t.readable||t.readable!==!1&&e.readable,o=t.writable||t.writable!==!1&&e.writable,a=!1,l=function(){e.writable||d()},d=function(){o=!1,s||r.call(e)},u=function(){s=!1,o||r.call(e)},c=function(g){r.call(e,g?new Error("exited with error code: "+g):null)},f=function(g){r.call(e,g)},h=function(){process.nextTick(m)},m=function(){if(a)return;if(s&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(o&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))},b=function(){e.req.on("finish",d)};return qm(e)?(e.on("complete",d),e.on("abort",h),e.req?b():e.on("request",b)):o&&!n&&(e.on("end",l),e.on("close",l)),$m(e)&&e.on("exit",c),e.on("end",u),e.on("finish",d),t.error!==!1&&e.on("error",f),e.on("close",h),function(){a=!0,e.removeListener("complete",d),e.removeListener("abort",h),e.removeListener("request",b),e.req&&e.req.removeListener("finish",d),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",d),e.removeListener("exit",c),e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",h)}};hu.exports=pu});var wu=p((E0,gu)=>{var Bm=Xi(),Um=mu(),Zi=require("fs"),dr=function(){},Gm=/^v?\.0/.test(process.version),hn=function(e){return typeof e=="function"},zm=function(e){return Gm&&Zi?(e instanceof(Zi.ReadStream||dr)||e instanceof(Zi.WriteStream||dr))&&hn(e.close):!1},Hm=function(e){return e.setHeader&&hn(e.abort)},Wm=function(e,t,r,n){n=Bm(n);var i=!1;e.on("close",function(){i=!0}),Um(e,{readable:t,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(i)return;if(s)return;if(s=!0,zm(e))return e.close(dr);if(Hm(e))return e.abort();if(hn(e.destroy))return e.destroy();n(o||new Error("stream was destroyed"))}},yu=function(e){e()},Vm=function(e,t){return e.pipe(t)},Ym=function(){var e=Array.prototype.slice.call(arguments),t=hn(e[e.length-1]||dr)&&e.pop()||dr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,s){var o=s<e.length-1,a=s>0;return Wm(i,o,a,function(l){if(r||(r=l),l&&n.forEach(yu),o)return;n.forEach(yu),t(r)})});return e.reduce(Vm)};gu.exports=Ym});var Mu=p((T0,bu)=>{"use strict";const{PassThrough:Jm}=require("stream");bu.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new Jm({objectMode:i});r&&s.setEncoding(r);let o=0;const a=[];return s.on("data",l=>{a.push(l),i?o=a.length:o+=l.length}),s.getBufferedValue=()=>t?a:n?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s}});var es=p((A0,It)=>{"use strict";const Qm=wu(),Km=Mu();class vu extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function pn(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let n;return await new Promise((i,s)=>{const o=a=>{a&&(a.bufferedData=n.getBufferedValue()),s(a)};n=Qm(e,Km(t),a=>{if(a){o(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&o(new vu)})}),n.getBufferedValue()}It.exports=pn;It.exports.default=pn;It.exports.buffer=(e,t)=>pn(e,{...t,encoding:"buffer"});It.exports.array=(e,t)=>pn(e,{...t,array:!0});It.exports.MaxBufferError=vu});var Tu=p((C0,Eu)=>{"use strict";const{PassThrough:Xm}=require("stream");Eu.exports=function(){var e=[],t=new Xm({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(s){return Array.isArray(s)?(s.forEach(r),this):(e.push(s),s.once("end",i.bind(null,s)),s.once("error",t.emit.bind(t,"error")),s.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(s){e=e.filter(function(o){return o!==s}),!e.length&&t.readable&&t.end()}}});var xu=p((D0,Au)=>{"use strict";const Cu=au(),Du=es(),Zm=Tu(),eg=(e,t)=>{if(t===void 0||e.stdin===void 0)return;Cu(t)?t.pipe(e.stdin):e.stdin.end(t)},tg=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=Zm();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},ts=async(e,t)=>{if(!e)return;e.destroy();try{return await t}catch(r){return r.bufferedData}},rs=(e,{encoding:t,buffer:r,maxBuffer:n})=>!e||!r?void 0:t?Du(e,{encoding:t,maxBuffer:n}):Du.buffer(e,{maxBuffer:n}),rg=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:s},o)=>{const a=rs(e,{encoding:n,buffer:i,maxBuffer:s}),l=rs(t,{encoding:n,buffer:i,maxBuffer:s}),d=rs(r,{encoding:n,buffer:i,maxBuffer:s*2});try{return await Promise.all([o,a,l,d])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},ts(e,a),ts(t,l),ts(r,d)])}},ng=({input:e})=>{if(Cu(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Au.exports={handleInput:eg,makeAllStream:tg,getSpawnedResult:rg,validateInputSync:ng}});var Ou=p((x0,Su)=>{"use strict";const ig=(async()=>{})().constructor.prototype,sg=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(ig,e)]),og=(e,t)=>{for(const[r,n]of sg){const i=typeof t=="function"?(...s)=>Reflect.apply(n.value,t(),s):n.value.bind(t);Reflect.defineProperty(e,r,{...n,value:i})}return e},ag=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});Su.exports={mergePromise:og,getSpawnedPromise:ag}});var _u=p((S0,Iu)=>{"use strict";const lg=/ +/g,ug=(e,t=[])=>Array.isArray(t)?[e,...t].join(" "):e,cg=(e,t,r)=>{if(r===0)return[t];const n=e[e.length-1];return n.endsWith("\\")?[...e.slice(0,-1),`${n.slice(0,-1)} ${t}`]:[...e,t]},dg=e=>e.trim().split(lg).reduce(cg,[]);Iu.exports={joinCommand:ug,parseCommand:dg}});var ju=p((O0,_t)=>{"use strict";const fg=require("path"),ns=require("child_process"),ku=ui(),hg=Nl(),pg=ql(),mg=Gl(),mn=Kl(),Ru=Zl(),{spawnedKill:gg,spawnedCancel:yg,setupTimeout:wg,setExitHandler:bg}=su(),{handleInput:Mg,getSpawnedResult:vg,makeAllStream:Eg,validateInputSync:Tg}=xu(),{mergePromise:Lu,getSpawnedPromise:Ag}=Ou(),{joinCommand:Pu,parseCommand:Nu}=_u(),Cg=1e3*1e3*100,Dg=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{const s=t?{...process.env,...e}:e;return r?pg.env({env:s,cwd:n,execPath:i}):s},Fu=(e,t,r={})=>{const n=ku._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r={maxBuffer:Cg,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=Dg(r),r.stdio=Ru(r),process.platform==="win32"&&fg.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},fr=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?hg(t):t,gn=(e,t,r)=>{const n=Fu(e,t,r),i=Pu(e,t);let s;try{s=ns.spawn(n.file,n.args,n.options)}catch(f){const h=new ns.ChildProcess,m=Promise.reject(mn({error:f,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Lu(h,m)}const o=Ag(s),a=wg(s,n.options,o),l=bg(s,n.options,a),d={isCanceled:!1};s.kill=gg.bind(null,s.kill.bind(s)),s.cancel=yg.bind(null,s,d);const u=async()=>{const[{error:f,exitCode:h,signal:m,timedOut:b},g,w,M]=await vg(s,n.options,l),y=fr(n.options,g),v=fr(n.options,w),A=fr(n.options,M);if(f||h!==0||m!==null){const k=mn({error:f,exitCode:h,signal:m,stdout:y,stderr:v,all:A,command:i,parsed:n,timedOut:b,isCanceled:d.isCanceled,killed:s.killed});if(!n.options.reject)return k;throw k}return{command:i,exitCode:0,stdout:y,stderr:v,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},c=mg(u);return ku._enoent.hookChildProcess(s,n.parsed),Mg(s,n.options.input),s.all=Eg(s,n.options),Lu(s,c)};_t.exports=gn;_t.exports.sync=(e,t,r)=>{const n=Fu(e,t,r),i=Pu(e,t);Tg(n.options);let s;try{s=ns.spawnSync(n.file,n.args,n.options)}catch(l){throw mn({error:l,stdout:"",stderr:"",all:"",command:i,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}const o=fr(n.options,s.stdout,s.error),a=fr(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){const l=mn({stdout:o,stderr:a,error:s.error,signal:s.signal,exitCode:s.status,command:i,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return l;throw l}return{command:i,exitCode:0,stdout:o,stderr:a,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};_t.exports.command=(e,t)=>{const[r,...n]=Nu(e);return gn(r,n,t)};_t.exports.commandSync=(e,t)=>{const[r,...n]=Nu(e);return gn.sync(r,n,t)};_t.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);const n=Ru.node(r),{nodePath:i=process.execPath,nodeOptions:s=process.execArgv}=r;return gn(i,[...s,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var qu=p(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.omit=void 0;function xg(e,t){return Object.keys(e).filter(r=>!t.includes(r)).reduce((r,n)=>(r[n]=e[n],r),{})}yn.omit=xg});var Bu=p((_0,$u)=>{"use strict";const{HTTPParser:Sg}=process.binding("http_parser");$u.exports=Sg});var is=p((k0,Uu)=>{Uu.exports={kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kResume:Symbol("resume"),kPause:Symbol("pause"),kSocketTimeout:Symbol("socket timeout"),kIdleTimeout:Symbol("idle timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeout:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kTLSServerName:Symbol("server name"),kHost:Symbol("host"),kTLSOpts:Symbol("TLS Options"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol("destroyed"),kMaxHeadersSize:Symbol("max headers size"),kHeadersTimeout:Symbol("headers timeout"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelinig"),kRetryDelay:Symbol("retry delay"),kSocketPath:Symbol("socket path"),kSocket:Symbol("socket"),kRetryTimeout:Symbol("retry timeout"),kTLSSession:Symbol("tls session cache")}});var Ge=p((R0,Gu)=>{"use strict";const Og=require("assert"),{kDestroyed:zu}=is(),{IncomingMessage:Ig}=require("http");function _g(){}function Hu(e){return!!(e&&typeof e.on=="function")}function kg(e){if(e&&typeof e.on=="function"){const t=e._readableState;return t&&t.ended===!0&&Number.isFinite(t.length)?t.length:null}return Og(!e||Number.isFinite(e.byteLength)),e?e.length:0}function Wu(e){return!e||!!(e.destroyed||e[zu])}function Rg(e,t){if(!Hu(e)||Wu(e))return;typeof e.destroy=="function"?(t||Object.getPrototypeOf(e).constructor!==Ig)&&e.destroy(t):t&&process.nextTick((r,n)=>{r.emit("error",n)},e,t),e.destroyed!==!0&&(e[zu]=!0)}const Lg=/timeout=(\d+)s/;function Pg(e){const t=e.match(Lg);return t?parseInt(t[1])*1e3:null}function Ng(e){const t={};for(var r=0;r<e.length;r+=2){var n=e[r].toLowerCase(),i=t[n];i?(Array.isArray(i)||(i=[i],t[n]=i),i.push(e[r+1])):t[n]=e[r+1]}return t}function Fg(e){return e instanceof Uint8Array||Buffer.isBuffer(e)}Gu.exports={nop:_g,isStream:Hu,isDestroyed:Wu,parseHeaders:Ng,parseKeepAliveTimeout:Pg,destroy:Rg,bodyLength:kg,isBuffer:Fg}});var Me=p((L0,Vu)=>{"use strict";class re extends Error{constructor(e){super(e);this.name="UndiciError",this.code="UND_ERR"}}class Yu extends re{constructor(e){super(e);Error.captureStackTrace(this,Yu),this.name="HeadersTimeoutError",this.message=e||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class Ju extends re{constructor(e){super(e);Error.captureStackTrace(this,Ju),this.name="SocketTimeoutError",this.message=e||"Socket Timeout Error",this.code="UND_ERR_SOCKET_TIMEOUT"}}class Qu extends re{constructor(e){super(e);Error.captureStackTrace(this,Qu),this.name="RequestTimeoutError",this.message=e||"Request Timeout Error",this.code="UND_ERR_REQUEST_TIMEOUT"}}class Ku extends re{constructor(e){super(e);Error.captureStackTrace(this,Ku),this.name="InvalidArgumentError",this.message=e||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class Xu extends re{constructor(e){super(e);Error.captureStackTrace(this,Xu),this.name="InvalidReturnValueError",this.message=e||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class Zu extends re{constructor(e){super(e);Error.captureStackTrace(this,Zu),this.name="RequestAbortedError",this.message=e||"Request aborted",this.code="UND_ERR_ABORTED"}}class ec extends re{constructor(e){super(e);Error.captureStackTrace(this,ec),this.name="InformationalError",this.message=e||"Request information",this.code="UND_ERR_INFO"}}class tc extends re{constructor(e){super(e);Error.captureStackTrace(this,tc),this.name="ContentLengthMismatchError",this.message=e||"Request body length does not match content-length header",this.code="UND_ERR_CONTENT_LENGTH_MISMATCH"}}class rc extends re{constructor(e){super(e);Error.captureStackTrace(this,rc),this.name="TrailerMismatchError",this.message=e||"Trailers does not match trailer header",this.code="UND_ERR_TRAILER_MISMATCH"}}class nc extends re{constructor(e){super(e);Error.captureStackTrace(this,nc),this.name="ClientDestroyedError",this.message=e||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class ic extends re{constructor(e){super(e);Error.captureStackTrace(this,ic),this.name="ClientClosedError",this.message=e||"The client is closed",this.code="UND_ERR_CLOSED"}}class sc extends re{constructor(e){super(e);Error.captureStackTrace(this,sc),this.name="SocketError",this.message=e||"Socket error",this.code="UND_ERR_SOCKET"}}class oc extends re{constructor(e){super(e);Error.captureStackTrace(this,oc),this.name="NotSupportedError",this.message=e||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}Vu.exports={UndiciError:re,SocketTimeoutError:Ju,HeadersTimeoutError:Yu,RequestTimeoutError:Qu,ContentLengthMismatchError:tc,TrailerMismatchError:rc,InvalidArgumentError:Ku,InvalidReturnValueError:Xu,RequestAbortedError:Zu,ClientDestroyedError:nc,ClientClosedError:ic,InformationalError:ec,SocketError:sc,NotSupportedError:oc}});var cc=p((P0,ac)=>{"use strict";const{InvalidArgumentError:ie,RequestAbortedError:jg,RequestTimeoutError:qg,NotSupportedError:$g}=Me(),lc=Ge(),hr=require("assert"),ss=Symbol("request timeout"),kt=Symbol("timeout"),rt=Symbol("handler");class Bg{constructor({path:e,method:t,body:r,headers:n,idempotent:i,upgrade:s,requestTimeout:o},a){if(typeof e!="string"||e[0]!=="/")throw new ie("path must be a valid path");if(typeof t!="string")throw new ie("method must be a string");if(s&&typeof s!="string")throw new ie("upgrade must be a string");if(o!=null&&(!Number.isInteger(o)||o<0))throw new ie("requestTimeout must be a positive integer or zero");if(this.method=t,r==null)this.body=null;else if(lc.isStream(r))this.body=r;else if(lc.isBuffer(r))this.body=r.length?r:null;else if(typeof r=="string")this.body=r.length?Buffer.from(r):null;else throw new ie("body must be a string, a Buffer or a Readable stream");if(this.aborted=!1,this.upgrade=!!s,this.path=e,this.idempotent=i==null?t==="HEAD"||t==="GET":i,this.host=null,this.contentLength=null,this.headers="",Array.isArray(n)){if(n.length%2!==0)throw new ie("headers array must be even");for(let l=0;l<n.length;l+=2)uc(this,n[l],n[l+1])}else if(n&&typeof n=="object")for(const[l,d]of Object.entries(n))uc(this,l,d);else if(n!=null)throw new ie("headers must be an object or an array");this[ss]=o!=null?o:3e4,this[kt]=null,this[rt]=a}onConnect(e){hr(!this.aborted);const t=r=>{this.aborted||(this.onError(r||new jg),e())};this[ss]&&(this[kt]&&clearTimeout(this[kt]),this[kt]=setTimeout(r=>{r(new qg)},this[ss],t)),this[rt].onConnect(t)}onHeaders(e,t,r){hr(!this.aborted),wn(this),this[rt].onHeaders(e,t,r)}onBody(e,t,r){return hr(!this.aborted),this[rt].onData(e.slice(t,t+r))}onUpgrade(e,t,r){hr(!this.aborted),wn(this),this[rt].onUpgrade(e,t,r)}onComplete(e){hr(!this.aborted),wn(this),this[rt].onComplete(e)}onError(e){if(this.aborted)return;this.aborted=!0,wn(this),this[rt].onError(e)}}function uc(e,t,r){if(typeof r=="object")throw new ie(`invalid ${t} header`);if(r===void 0)return;if(e.host===null&&t.length===4&&t.toLowerCase()==="host")e.host=r,e.headers+=`${t}: ${r}\r
`;else if(e.contentLength===null&&t.length===14&&t.toLowerCase()==="content-length"){if(e.contentLength=parseInt(r),!Number.isFinite(e.contentLength))throw new ie("invalid content-length header")}else{if(t.length===17&&t.toLowerCase()==="transfer-encoding")throw new ie("invalid transfer-encoding header");if(t.length===10&&t.toLowerCase()==="connection")throw new ie("invalid connection header");if(t.length===10&&t.toLowerCase()==="keep-alive")throw new ie("invalid keep-alive header");if(t.length===7&&t.toLowerCase()==="upgrade")throw new ie("invalid upgrade header");if(t.length===6&&t.toLowerCase()==="expect")throw new $g("expect header not supported");e.headers+=`${t}: ${r}\r
`}}function wn(e){const{[kt]:t}=e;t&&(e[kt]=null,clearTimeout(t))}ac.exports=Bg});var ps=p((N0,dc)=>{"use strict";const{URL:Ug}=require("url"),os=require("net"),fc=require("tls"),Oe=Bu(),Gg=require("events"),O=require("assert"),I=Ge(),zg=cc(),{ContentLengthMismatchError:as,SocketTimeoutError:Hg,TrailerMismatchError:hc,InvalidArgumentError:X,RequestAbortedError:Wg,ClientDestroyedError:ls,ClientClosedError:Vg,HeadersTimeoutError:Yg,SocketError:bn,InformationalError:pr}=Me(),{kUrl:Mn,kReset:ve,kPause:us,kHost:vn,kResume:Rt,kClient:Lt,kParser:cs,kConnect:Jg,kResuming:nt,kWriting:ze,kQueue:U,kNeedDrain:mr,kTLSServerName:En,kIdleTimeout:Tn,kSocketTimeout:ds,kTLSOpts:An,kClosed:Pt,kDestroyed:He,kPendingIdx:se,kRunningIdx:G,kError:Cn,kOnDestroyed:it,kPipelining:Dn,kRetryDelay:st,kRetryTimeout:We,kSocket:F,kSocketPath:gr,kKeepAliveTimeout:xn,kMaxHeadersSize:pc,kHeadersTimeout:mc,kKeepAliveMaxTimeout:gc,kKeepAliveTimeoutThreshold:yc,kKeepAlive:fs,kTLSSession:yr}=is(),wc=Symbol("host header"),bc=parseInt(process.version.split(".")[0].slice(1)),Qg=process.execArgv.includes("--insecure-http-parser");class Kg extends Gg{constructor(e,{maxHeaderSize:t,headersTimeout:r,socketTimeout:n,idleTimeout:i,maxKeepAliveTimeout:s,keepAlive:o,keepAliveMaxTimeout:a=s,keepAliveTimeoutThreshold:l,socketPath:d,pipelining:u,tls:c}={}){super();if(typeof e=="string"&&(e=new Ug(e)),!e||typeof e!="object")throw new X("invalid url");if(e.port!=null&&e.port!==""&&!Number.isFinite(parseInt(e.port)))throw new X("invalid port");if(d!=null&&typeof d!="string")throw new X("invalid socketPath");if(e.hostname!=null&&typeof e.hostname!="string")throw new X("invalid hostname");if(!/https?/.test(e.protocol))throw new X("invalid protocol");if(/\/.+/.test(e.pathname)||e.search||e.hash)throw new X("invalid url");if(t!=null&&!Number.isFinite(t))throw new X("invalid maxHeaderSize");if(n!=null&&!Number.isFinite(n))throw new X("invalid socketTimeout");if(i!=null&&(!Number.isFinite(i)||i<=0))throw new X("invalid idleTimeout");if(a!=null&&(!Number.isFinite(a)||a<=0))throw new X("invalid keepAliveMaxTimeout");if(o!=null&&typeof o!="boolean")throw new X("invalid keepAlive");if(l!=null&&!Number.isFinite(l))throw new X("invalid keepAliveTimeoutThreshold");if(r!=null&&!Number.isFinite(r))throw new X("invalid headersTimeout");this[F]=null,this[ve]=!1,this[Dn]=u||1,this[pc]=t||16384,this[mc]=r==null?3e4:r,this[Mn]=e,this[gr]=d,this[ds]=n==null?3e4:n,this[Tn]=i==null?4e3:i,this[gc]=a==null?6e5:a,this[yc]=l==null?1e3:l,this[xn]=this[Tn],this[fs]=o==null?!0:o,this[Pt]=!1,this[He]=!1,this[En]=c&&c.servername||null,this[vn]=null,this[An]=c,this[st]=0,this[We]=null,this[it]=[],this[ze]=!1,this[nt]=0,this[mr]=0,this[Rt]=()=>{this[nt]===0&&Se(this,!0)},this[yr]=null,this[wc]=`host: ${this[Mn].hostname}\r
`,this[U]=[],this[G]=0,this[se]=0}get pipelining(){return this[Dn]}set pipelining(e){this[Dn]=e,Se(this,!0)}get connected(){return this[F]&&this[F].connecting!==!0&&(this[F].authorized!==!1||this[F].authorizationError)&&!this[F].destroyed}get pending(){return this[U].length-this[se]}get running(){return this[se]-this[G]}get size(){return this[U].length-this[G]}get busy(){return this[ve]||this[ze]||this.pending>0}get destroyed(){return this[He]}get closed(){return this[Pt]}[Jg](e){hs(this),this.once("connect",e)}dispatch(e,t){try{const r=new zg(e,t);if(this[He])throw new ls;if(this[Pt])throw new Vg;this[U].push(r),this[nt]||(I.isStream(r.body)?(this[nt]=1,process.nextTick(Se,this)):Se(this,!0))}catch(r){t.onError(r)}}close(e){if(e===void 0)return new Promise((t,r)=>{this.close((n,i)=>n?r(n):t(i))});if(typeof e!="function")throw new X("invalid callback");if(this[He]){process.nextTick(e,new ls,null);return}this[Pt]=!0,this.size?this[it].push(e):this.destroy(e)}destroy(e,t){if(typeof e=="function"&&(t=e,e=null),t===void 0)return new Promise((n,i)=>{this.destroy(e,(s,o)=>s?i(s):n(o))});if(typeof t!="function")throw new X("invalid callback");if(this[He]){this[it]?this[it].push(t):process.nextTick(t,null,null);return}e||(e=new ls);for(const n of this[U].splice(this[se]))n.onError(e);clearTimeout(this[We]),this[We]=null,this[Pt]=!0,this[He]=!0,this[it].push(t);const r=()=>{const n=this[it];this[it]=null;for(const i of n)i(null,null)};this[F]?I.destroy(this[F].on("close",r),e):process.nextTick(r),Se(this)}}class Zg extends Oe{constructor(e,t){if(bc>=12){super();this.initialize(Oe.RESPONSE,{},e[pc],Qg,e[mc])}else super(Oe.RESPONSE,!1);this.client=e,this.socket=t,this.statusCode=null,this.upgrade=!1,this.headers=null,this.shouldKeepAlive=!1,this.read=0,this.request=null}[Oe.kOnTimeout](){this.statusCode?this.socket._unrefTimer():I.destroy(this.socket,new Yg)}[Oe.kOnHeaders](e){this.headers?Array.prototype.push.apply(this.headers,e):this.headers=e}[Oe.kOnExecute](e){const{upgrade:t,socket:r}=this;if(!Number.isFinite(e)){O(e instanceof Error),I.destroy(r,e);return}if(r._unrefTimer(),t&&!r.destroyed){const{client:n,headers:i,statusCode:s,request:o}=this;O(!r.destroyed),O(r===n[F]),O(!r.isPaused()),O(o.upgrade||o.method==="CONNECT"),this.headers=null,this.statusCode=null,this.request=null,r._readableState.flowing=null,r.unshift(this.getCurrentBuffer().slice(e));try{o.onUpgrade(s,i,r)}catch(a){I.destroy(r,a),o.onError(a)}!r.destroyed&&!o.aborted&&(Xg(r),n[F]=null,n[U][n[G]++]=null,n.emit("disconnect",new pr("upgrade")),setImmediate(()=>this.close()),Se(n))}}[Oe.kOnHeadersComplete](e,t,r,n,i,s,o,a,l){const{client:d,socket:u}=this,c=d[U][d[G]];if(u.destroyed)return;if(O(!this.upgrade),O(this.statusCode<200),s===100)return I.destroy(u,new bn("bad response")),1;if(a!==c.upgrade)return I.destroy(u,new bn("bad upgrade")),1;if(this.headers?Array.prototype.push.apply(this.headers,r):this.headers=r,this.statusCode=s,this.shouldKeepAlive=l,this.request=c,a||c.method==="CONNECT")return this.unconsume(),this.upgrade=!0,2;let f,h;for(let b=0;b<this.headers.length;b+=2){const g=this.headers[b+0],w=this.headers[b+1];!f&&g.length===10&&g.toLowerCase()==="keep-alive"?f=w:!h&&g.length===7&&g.toLowerCase()==="trailer"&&(h=w)}const{headers:m}=this;if(this.headers=null,this.trailers=h?h.toLowerCase().split(/,\s*/):null,l&&d[fs]){const b=f?I.parseKeepAliveTimeout(f):null;if(b!=null){const g=Math.min(b-d[yc],d[gc]);g<1e3?d[ve]=!0:d[xn]=g}else d[xn]=d[Tn]}else d[ve]=!0;try{c.onHeaders(s,m,s<200?null:u[Rt])}catch(b){return I.destroy(u,b),1}return c.method==="HEAD"||s<200?1:0}[Oe.kOnBody](e,t,r){const{socket:n,statusCode:i,request:s}=this;if(n.destroyed)return;O(i>=200);try{s.onBody(e,t,r)===!1&&n[us]()}catch(o){I.destroy(n,o)}}[Oe.kOnMessageComplete](){const{client:e,socket:t,statusCode:r,headers:n,upgrade:i,request:s,trailers:o}=this;if(t.destroyed)return;if(O(r>=100),i){O(r<300||s.method==="CONNECT");return}if(this.statusCode=null,this.headers=null,this.request=null,this.trailers=null,r<200){O(!t.isPaused());return}try{if(o){if(!n)throw new hc;for(const a of o){let l=!1;for(let d=0;d<n.length;d+=2){const u=n[d+0];if(u.length===a.length&&u.toLowerCase()===a.toLowerCase()){l=!0;break}}if(!l)throw new hc}}s.onComplete(n)}catch(a){I.destroy(t,a);return}e[U][e[G]++]=null,e[ze]?I.destroy(t,new pr("reset")):this.shouldKeepAlive?e[ve]?e.running||I.destroy(t,new pr("reset")):(t[Rt](),Se(e)):I.destroy(t,new pr("reset"))}}function ey(){const{[Lt]:e}=this;O(!this.destroyed),O(!e[ze]),O(!e[We]),e[ve]=!1,e[st]=0,e.emit("connect"),Se(e)}function Mc(){I.destroy(this,new Hg)}function vc(e){const{[Lt]:t}=this;if(this[Cn]=e,e.code==="ERR_TLS_CERT_ALTNAME_INVALID")for(O(!t.running);t.pending&&t[U][t[se]].host===t[vn];)t[U][t[se]++].onError(e);else if(!t.running&&e.code!=="UND_ERR_INFO"&&e.code!=="UND_ERR_SOCKET"){O(t[se]===t[G]);for(const r of t[U].splice(t[G]))r.onError(e)}}function Ec(){I.destroy(this,new bn("other side closed"))}function Tc(){const{[Lt]:e,[cs]:t}=this,r=this[Cn]||new bn("closed");if(e[F]=null,t.unconsume(),setImmediate(()=>t.close()),r.code!=="UND_ERR_INFO"&&(e[yr]=null),e[He]){O(!e.pending);for(const n of e[U].splice(e[G]))n.onError(r);e[se]=e[G]}else e.running&&r.code!=="UND_ERR_INFO"&&(e[U][e[G]].onError(r),e[U][e[G]++]=null),e[se]=e[G],e.emit("disconnect",r);Se(e)}function Ac(e){const{[Lt]:t}=this;t[yr]=e}function Xg(e){e[us]=null,e[Rt]=null,e[Lt]=null,e[cs]=null,e[Cn]=null,e.removeListener("timeout",Mc).removeListener("session",Ac).removeListener("error",vc).removeListener("end",Ec).removeListener("close",Tc)}function hs(e){O(!e[F]),O(!e[We]);const{protocol:t,port:r,hostname:n}=e[Mn];let i;if(t==="https:"){const o={...e[An],servername:e[En],session:e[yr]};i=e[gr]?fc.connect(e[gr],o):fc.connect(r||443,n,o),i.on("session",Ac)}else i=e[gr]?os.connect(e[gr]):os.connect(r||80,n);e[F]=i;const s=new Zg(e,i);bc>=12?(O(i._handle),s.consume(i._handle)):(O(i._handle&&i._handle._externalStream),s.consume(i._handle._externalStream)),i[us]=ty.bind(i),i[Rt]=ry.bind(i),i[Cn]=null,i[cs]=s,i[Lt]=e,i.setNoDelay(!0).setTimeout(e[Tn]).on(t==="https:"?"secureConnect":"connect",ey).on("timeout",Mc).on("error",vc).on("end",Ec).on("close",Tc)}function ty(){this._handle&&this._handle.reading&&(this._handle.reading=!1,this._handle.readStop())}function ry(){this._handle&&!this._handle.reading&&(this._handle.reading=!0,this._handle.readStart())}function Cc(e){e[mr]=0,e.emit("drain")}function Se(e,t){if(e[nt]===2)return;e[nt]=2,ny(e,t),e[nt]=0,e[G]>256&&(e[U].splice(0,e[G]),e[se]-=e[G],e[G]=0)}function ny(e,t){for(;;){if(e[He]){O(!e.pending);return}if(e[Pt]&&!e.size){e.destroy(I.nop);continue}if(e[F]){const n=e.running?e[ds]:e[xn];e[F].timeout!==n&&e[F].setTimeout(n)}if(e.running){const{aborted:n}=e[U][e[G]];if(n){I.destroy(e[F]);return}}if(e.pending)e[mr]=2;else{if(e[mr]===2&&!e.busy){t?(e[mr]=1,process.nextTick(Cc,e)):Cc(e);continue}return}if(e.running>=e[Dn])return;const r=e[U][e[se]];if(e[Mn].protocol==="https:"&&e[vn]!==r.host){if(e.running)return;e[vn]=r.host;const n=r.host&&!/^\[/.test(r.host)&&!os.isIP(r.host)?r.host:e[An]&&e[An].servername;if(e[En]!==n&&(e[En]=n,e[yr]=null,e[F])){I.destroy(e[F],new pr("servername changed"));return}}if(!e[F]&&!e[We]){e[st]?(e[We]=setTimeout(()=>{e[We]=null,hs(e)},e[st]),e[st]=Math.min(e[st]*2,e[ds])):(hs(e),e[st]=1e3);return}if(!e.connected)return;if(e[ze]||e[ve])return;if(e.running&&!r.idempotent)return;if(e.running&&(r.upgrade||r.method==="CONNECT"))return;if(I.isStream(r.body)&&I.bodyLength(r.body)===0&&(r.body.on("data",function(){O(!1)}).on("error",function(n){r.onError(n)}).on("end",function(){I.destroy(this)}),r.body=null),e.running&&I.isStream(r.body))return;iy(e,r)?e[se]++:e[U].splice(e[se],1)}}function iy(e,t){const{body:r,method:n,path:i,host:s,upgrade:o,headers:a}=t,l=n==="PUT"||n==="POST"||n==="PATCH";r&&typeof r.read=="function"&&r.read(0);let d=I.bodyLength(r);if(d===null&&(d=t.contentLength),d===0&&!l&&(d=null),t.contentLength!==null&&t.contentLength!==d)return t.onError(new as),!1;try{t.onConnect(e[Rt])}catch(f){return t.onError(f),!1}if(t.aborted)return!1;n==="HEAD"&&(e[ve]=!0),(n==="CONNECT"||o)&&(e[ve]=!0);let u;o?u=`${n} ${i} HTTP/1.1\r
connection: upgrade\r
upgrade: ${o}\r
`:e[fs]?u=`${n} ${i} HTTP/1.1\r
connection: keep-alive\r
`:u=`${n} ${i} HTTP/1.1\r
connection: close\r
`,s||(u+=e[wc]),a&&(u+=a);const c=e[F];if(!r)d===0?c.write(`${u}content-length: ${d}\r
\r
\r
`,"ascii"):(O(d===null,"no body must not have content length"),c.write(`${u}\r
`,"ascii"));else if(I.isBuffer(r))O(d!==null,"buffer body must have content length"),c.cork(),c.write(`${u}content-length: ${d}\r
\r
`,"ascii"),c.write(r),c.write(`\r
`,"ascii"),c.uncork(),l||(e[ve]=!0),t.body=null;else{e[ze]=!0,O(I.isStream(r)),O(d!==0||!e.running,"stream body cannot be pipelined");let f=!1,h=0;const m=function(M){try{O(!f);const y=Buffer.byteLength(M);if(!y)return;if(d!==null&&h+y>d){I.destroy(c,new as);return}h===0&&(l||(e[ve]=!0),d===null?c.write(`${u}transfer-encoding: chunked\r
`,"ascii"):c.write(`${u}content-length: ${d}\r
\r
`,"ascii")),d===null&&c.write(`\r
${y.toString(16)}\r
`,"ascii"),h+=y,!c.write(M)&&this.pause&&this.pause()}catch(y){I.destroy(this,y)}},b=function(){O(!f),r.resume&&r.resume()},g=function(){w(new Wg)},w=function(M){if(f)return;if(f=!0,O(e[ze]&&e.running<=1),e[ze]=!1,!M&&d!==null&&h!==d&&(M=new as),c.removeListener("drain",b).removeListener("error",w),r.removeListener("data",m).removeListener("end",w).removeListener("error",w).removeListener("close",g),t.body=null,I.destroy(r,M),M){I.destroy(c,M);return}h===0?l?c.write(`${u}content-length: 0\r
\r
\r
`,"ascii"):c.write(`${u}\r
`,"ascii"):d===null&&c.write(`\r
0\r
\r
`,"ascii"),Se(e)};r.on("data",m).on("end",w).on("error",w).on("close",g),c.on("drain",b).on("error",w)}return!0}dc.exports=Kg});var Oc=p((F0,Dc)=>{"use strict";const xc=2048,ms=xc-1;class Sc{constructor(){this.bottom=0,this.top=0,this.list=new Array(xc),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&ms)===this.bottom}push(e){this.list[this.top]=e,this.top=this.top+1&ms}shift(){const e=this.list[this.bottom];return e===void 0?null:(this.list[this.bottom]=void 0,this.bottom=this.bottom+1&ms,e)}}Dc.exports=class{constructor(){this.head=this.tail=new Sc}isEmpty(){return this.head.isEmpty()}push(t){this.head.isFull()&&(this.head=this.head.next=new Sc),this.head.push(t)}shift(){const t=this.tail,r=t.shift();return t.isEmpty()&&t.next!==null&&(this.tail=t.next),r}}});var _c=p((j0,Ic)=>{"use strict";const sy=ps(),{ClientClosedError:oy,InvalidArgumentError:ay,ClientDestroyedError:gs}=Me(),ly=Oc(),Nt=Symbol("clients"),wr=Symbol("queue"),Sn=Symbol("destroyed"),ot=Symbol("closed promise"),On=Symbol("closed resolve");class uy{constructor(e,{connections:t,...r}={}){if(t!=null&&(!Number.isFinite(t)||t<=0))throw new ay("invalid connections");this[wr]=new ly,this[ot]=null,this[On]=null,this[Sn]=!1,this[Nt]=Array.from({length:t||10},()=>new sy(e,r));const n=this;function i(){const s=n[wr];for(;!this.busy;){const o=s.shift();if(!o)break;this.dispatch(o.opts,o.handler)}n[On]&&s.isEmpty()&&Promise.all(n[Nt].map(o=>o.close())).then(n[On])}for(const s of this[Nt])s.on("drain",i)}dispatch(e,t){try{if(this[Sn])throw new gs;if(this[ot])throw new oy;const r=this[Nt].find(n=>!n.busy);r?r.dispatch(e,t):this[wr].push({opts:e,handler:t})}catch(r){t.onError(r)}}close(e){try{if(this[Sn])throw new gs;if(this[ot]||(this[wr].isEmpty()?this[ot]=Promise.all(this[Nt].map(t=>t.close())):this[ot]=new Promise(t=>{this[On]=t})),e)this[ot].then(()=>e(null,null));else return this[ot]}catch(t){if(e)e(t);else return Promise.reject(t)}}destroy(e,t){for(this[Sn]=!0,typeof e=="function"&&(t=e,e=null),e||(e=new gs);;){const n=this[wr].shift();if(!n)break;n.handler.onError(e)}const r=Promise.all(this[Nt].map(n=>n.destroy(e)));if(t)r.then(()=>t(null,null));else return r}}Ic.exports=uy});var Ft=p((q0,kc)=>{const{RequestAbortedError:cy}=Me(),at=Symbol("kListener"),Ie=Symbol("kSignal");function dy(e,t){if(e[Ie]=t,e[at]=null,!t)return;e[at]=()=>{e.abort?e.abort():e.onError(new cy)},"addEventListener"in e[Ie]?e[Ie].addEventListener("abort",e[at]):e[Ie].addListener("abort",e[at])}function fy(e){if(!e[Ie])return;"removeEventListener"in e[Ie]?e[Ie].removeEventListener("abort",e[at]):e[Ie].removeListener("abort",e[at]),e[Ie]=null,e[at]=null}kc.exports={addSignal:dy,removeSignal:fy}});var ys=p(($0,Rc)=>{"use strict";const{Readable:hy}=require("stream"),{InvalidArgumentError:In,RequestAbortedError:py}=Me(),lt=Ge(),{AsyncResource:my}=require("async_hooks"),{addSignal:gy,removeSignal:Lc}=Ft(),Pc=Symbol("abort");class yy extends hy{constructor(e,t){super({autoDestroy:!0,read:e});this[Pc]=t}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new py),e&&this[Pc](),t(e)}}class wy extends my{constructor(e,t){if(!e||typeof e!="object")throw new In("invalid opts");const{signal:r,method:n,opaque:i,body:s}=e;try{if(typeof t!="function")throw new In("invalid callback");if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new In("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new In("invalid method");super("UNDICI_REQUEST")}catch(o){throw lt.isStream(s)&&lt.destroy(s.on("error",lt.nop),o),o}this.opaque=i||null,this.callback=t,this.res=null,this.abort=null,this.body=s,lt.isStream(s)&&s.on("error",o=>{this.onError(o)}),gy(this,r)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{callback:n,opaque:i,abort:s}=this;if(e<200)return;const o=new yy(r,s);this.callback=null,this.res=o,this.runInAsyncScope(n,null,null,{statusCode:e,headers:lt.parseHeaders(t),opaque:i,body:o})}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;Lc(this),t.push(null)}onError(e){const{res:t,callback:r,body:n,opaque:i}=this;Lc(this),r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,i)),t&&(this.res=null,lt.destroy(t,e)),n&&(this.body=null,lt.destroy(n,e))}}function Nc(e,t){if(t===void 0)return new Promise((r,n)=>{Nc.call(this,e,(i,s)=>i?n(i):r(s))});try{this.dispatch(e,new wy(e,t))}catch(r){if(typeof t=="function")process.nextTick(t,r,{opaque:e&&e.opaque});else throw r}}Rc.exports=Nc});var ws=p((B0,Fc)=>{"use strict";const{finished:by}=require("stream"),{InvalidArgumentError:br,InvalidReturnValueError:My}=Me(),_e=Ge(),{AsyncResource:vy}=require("async_hooks"),{addSignal:Ey,removeSignal:jc}=Ft();class Ty extends vy{constructor(e,t,r){if(!e||typeof e!="object")throw new br("invalid opts");const{signal:n,method:i,opaque:s,body:o}=e;try{if(typeof r!="function")throw new br("invalid callback");if(typeof t!="function")throw new br("invalid factory");if(n&&typeof n.on!="function"&&typeof n.addEventListener!="function")throw new br("signal must be an EventEmitter or EventTarget");if(i==="CONNECT")throw new br("invalid method");super("UNDICI_STREAM")}catch(a){throw _e.isStream(o)&&_e.destroy(o.on("error",_e.nop),a),a}this.opaque=s||null,this.factory=t,this.callback=r,this.res=null,this.abort=null,this.trailers=null,this.body=o,_e.isStream(o)&&o.on("error",a=>{this.onError(a)}),Ey(this,n)}onConnect(e){this.callback?this.abort=e:e()}onHeaders(e,t,r){const{factory:n,opaque:i}=this;if(e<200)return;this.factory=null;const s=this.runInAsyncScope(n,null,{statusCode:e,headers:_e.parseHeaders(t),opaque:i});if(!s||typeof s.write!="function"||typeof s.end!="function"||typeof s.on!="function")throw new My("expected Writable");s.on("drain",r),by(s,{readable:!1},o=>{const{callback:a,res:l,opaque:d,trailers:u,abort:c}=this;this.res=null,(o||!l.readable)&&_e.destroy(l,o),this.callback=null,this.runInAsyncScope(a,null,o||null,{opaque:d,trailers:u}),o&&c()}),this.res=s}onData(e){const{res:t}=this;return t.write(e)}onComplete(e){const{res:t}=this;jc(this),this.trailers=e?_e.parseHeaders(e):{},t.end()}onError(e){const{res:t,callback:r,opaque:n,body:i}=this;jc(this),this.factory=null,t?(this.res=null,_e.destroy(t,e)):r&&(this.callback=null,process.nextTick((s,o,a,l)=>{s.runInAsyncScope(o,null,a,{opaque:l})},this,r,e,n)),i&&(this.body=null,_e.destroy(i,e))}}function qc(e,t,r){if(r===void 0)return new Promise((n,i)=>{qc.call(this,e,t,(s,o)=>s?i(s):n(o))});try{this.dispatch(e,new Ty(e,t,r))}catch(n){if(typeof r=="function")process.nextTick(r,n,{opaque:e&&e.opaque});else throw n}}Fc.exports=qc});var Ms=p((U0,$c)=>{"use strict";const{Readable:Bc,Duplex:Ay,PassThrough:Cy}=require("stream"),{InvalidArgumentError:_n,InvalidReturnValueError:Dy,RequestAbortedError:bs}=Me(),ke=Ge(),{AsyncResource:xy}=require("async_hooks"),{assert:Sy}=require("console"),{addSignal:Oy,removeSignal:Iy}=Ft(),jt=Symbol("resume");class _y extends Bc{constructor(){super({autoDestroy:!0});this[jt]=null}_read(){const{[jt]:e}=this;e&&(this[jt]=null,e())}_destroy(e,t){this._read(),Sy(e||this._readableState.endEmitted),t(e)}}class ky extends Bc{constructor(e){super({autoDestroy:!0});this[jt]=e}_read(){this[jt]()}_destroy(e,t){!e&&!this._readableState.endEmitted&&(e=new bs),t(e)}}class Ry extends xy{constructor(e,t){if(!e||typeof e!="object")throw new _n("invalid opts");if(typeof t!="function")throw new _n("invalid handler");const{signal:r,method:n,opaque:i}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new _n("signal must be an EventEmitter or EventTarget");if(n==="CONNECT")throw new _n("invalid method");super("UNDICI_PIPELINE");this.opaque=i||null,this.handler=t,this.abort=null,Oy(this,r),this.req=new _y().on("error",ke.nop),this.ret=new Ay({readableObjectMode:e.objectMode,autoDestroy:!0,read:()=>{const{body:s}=this;s&&s.resume&&s.resume()},write:(s,o,a)=>{const{req:l}=this;l.push(s,o)||l._readableState.destroyed?a():l[jt]=a},destroy:(s,o)=>{const{body:a,req:l,res:d,ret:u,abort:c}=this;!s&&!u._readableState.endEmitted&&(s=new bs),c&&s&&c(),ke.destroy(a,s),ke.destroy(l,s),ke.destroy(d,s),Iy(this),o(s)}}).on("prefinish",()=>{const{req:s}=this;s.push(null)}),this.res=null}onConnect(e){const{ret:t}=this;t.destroyed?e():this.abort=e}onHeaders(e,t,r){const{opaque:n,handler:i}=this;if(e<200)return;this.res=new ky(r);let s;try{this.handler=null,s=this.runInAsyncScope(i,null,{statusCode:e,headers:ke.parseHeaders(t),opaque:n,body:this.res})}catch(o){throw this.res.on("error",ke.nop),o}if(!s||typeof s.on!="function")throw new Dy("expected Readable");s.on("data",o=>{const{ret:a,body:l}=this;!a.push(o)&&l.pause&&l.pause()}).on("error",o=>{const{ret:a}=this;ke.destroy(a,o)}).on("end",()=>{const{ret:o}=this;o.push(null)}).on("close",()=>{const{ret:o}=this;o._readableState.ended||ke.destroy(o,new bs)}),this.body=s}onData(e){const{res:t}=this;return t.push(e)}onComplete(e){const{res:t}=this;t.push(null)}onError(e){const{ret:t}=this;this.handler=null,ke.destroy(t,e)}}function Ly(e,t){try{const r=new Ry(e,t),{path:n,method:i,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:d}=e;return this.dispatch({path:n,method:i,body:r.req,headers:s,idempotent:o,servername:a,signal:l,requestTimeout:d},r),r.ret}catch(r){return new Cy().destroy(r)}}$c.exports=Ly});var Es=p((G0,Uc)=>{"use strict";const{InvalidArgumentError:vs}=Me(),{AsyncResource:Py}=require("async_hooks"),Ny=Ge(),{addSignal:Fy,removeSignal:Gc}=Ft();class jy extends Py{constructor(e,t){if(!e||typeof e!="object")throw new vs("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new vs("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE");this.opaque=n||null,this.callback=t,this.abort=null,Fy(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;Gc(this),this.callback=null,this.runInAsyncScope(n,null,null,{headers:Ny.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;Gc(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function zc(e,t){if(t===void 0)return new Promise((r,n)=>{zc.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new vs("invalid callback");try{const r=new jy(e,t),{path:n,method:i,headers:s,servername:o,signal:a,requestTimeout:l,protocol:d}=e;this.dispatch({path:n,method:i||"GET",headers:s,servername:o,signal:a,requestTimeout:l,upgrade:d||"Websocket"},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}Uc.exports=zc});var As=p((z0,Hc)=>{"use strict";const{InvalidArgumentError:Ts}=Me(),{AsyncResource:qy}=require("async_hooks"),$y=Ge(),{addSignal:By,removeSignal:Wc}=Ft();class Uy extends qy{constructor(e,t){if(!e||typeof e!="object")throw new Ts("invalid opts");const{signal:r,opaque:n}=e;if(r&&typeof r.on!="function"&&typeof r.addEventListener!="function")throw new Ts("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT");this.opaque=n||null,this.callback=t,this.abort=null,By(this,r)}onConnect(e){this.callback?this.abort=e:e()}onUpgrade(e,t,r){const{callback:n,opaque:i}=this;Wc(this),this.callback=null,this.runInAsyncScope(n,null,null,{statusCode:e,headers:$y.parseHeaders(t),socket:r,opaque:i})}onError(e){const{callback:t,opaque:r}=this;Wc(this),t&&(this.callback=null,process.nextTick((n,i,s,o)=>{n.runInAsyncScope(i,null,s,{opaque:o})},this,t,e,r))}}function Vc(e,t){if(t===void 0)return new Promise((r,n)=>{Vc.call(this,e,(i,s)=>i?n(i):r(s))});if(typeof t!="function")throw new Ts("invalid callback");try{const r=new Uy(e,t),{path:n,headers:i,servername:s,signal:o,requestTimeout:a}=e;this.dispatch({path:n,method:"CONNECT",headers:i,servername:s,signal:o,requestTimeout:a},r)}catch(r){process.nextTick(t,r,{opaque:e&&e.opaque})}}Hc.exports=Vc});var Jc=p((H0,Yc)=>{"use strict";const qt=ps(),Gy=Me(),ut=_c();qt.prototype.request=ys();qt.prototype.stream=ws();qt.prototype.pipeline=Ms();qt.prototype.upgrade=Es();qt.prototype.connect=As();ut.prototype.request=ys();ut.prototype.stream=ws();ut.prototype.pipeline=Ms();ut.prototype.upgrade=Es();ut.prototype.connect=As();function kn(e,t){return new ut(e,t)}kn.Pool=ut;kn.Client=qt;kn.errors=Gy;Yc.exports=kn});var Kc=p($t=>{"use strict";var zy=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($t,"__esModule",{value:!0});$t.Undici=void 0;const Qc=zy(es()),Hy=Jc();class Wy{constructor(e,t){this.closed=!1,this.pool=new Hy.Pool(e,{connections:100,pipelining:10,requestTimeout:0,socketTimeout:0,...t})}request(e,t){return new Promise((r,n)=>{this.pool.request({path:"/",method:"POST",headers:{"Content-Type":"application/json",...t},body:e},async(i,s)=>{if(i)n(i);else{const{statusCode:o,headers:a,body:l}=s,d=JSON.parse(await Qc.default(l));r({statusCode:o,headers:a,data:d})}})})}status(){return new Promise((e,t)=>{this.pool.request({path:"/",method:"GET"},async(r,n)=>{if(r)t(r);else{const{statusCode:i,headers:s,body:o}=n,a=JSON.parse(await Qc.default(o));e({statusCode:i,headers:s,data:a})}})})}close(){this.closed||this.pool.close(()=>{}),this.closed=!0}}$t.Undici=Wy});var Ds=p(Bt=>{"use strict";var Re=Bt&&Bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.NodeEngine=void 0;const C=qi(),Rn=Re(Ci()),Vy=Tl(),Mr=Re(require("path")),Yy=Re(require("net")),oe=Re(require("fs")),z=Re(Te()),Jy=Ui(),Cs=tn(),Xc=require("util"),Qy=Re(require("events")),Ky=Ri(),Xy=require("child_process"),Zc=Re(zi()),ed=Re(Ll()),td=Re(ju()),Zy=qu(),rd=Kc(),N=Rn.default("engine"),ew=Xc.promisify(oe.default.exists),tw=Xc.promisify(oe.default.readdir),nd=["native","darwin","debian-openssl-1.0.x","debian-openssl-1.1.x","rhel-openssl-1.0.x","rhel-openssl-1.1.x","linux-musl","linux-nixos","windows","freebsd11","freebsd12","openbsd","netbsd","arm"],Ln=[],vr=[];class nw{constructor({cwd:e,datamodelPath:t,prismaPath:r,generator:n,datasources:i,showColors:s,logLevel:o,logQueries:a,env:l,flags:d,clientVersion:u,enableExperimental:c,engineEndpoint:f,enableDebugLogs:h,enableEngineDebugMode:m,useUds:b}){var g;this.restartCount=0,this.queryEngineStarted=!1,this.enableExperimental=[],this.useUds=!1,this.queryEngineKilled=!1,this.managementApiEnabled=!1,this.ready=!1,this.stderrLogs="",this.stdoutLogs="",this.handleRequestError=async(y,v)=>{var A,k,Q,K,S,fe,P;N({error:y});let L;if(this.currentRequestPromise.isCanceled&&this.lastError)this.lastError.is_panic?(L=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=L):L=new C.PrismaClientUnknownRequestError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastError),version:this.clientVersion}));else if(this.currentRequestPromise.isCanceled&&this.lastErrorLog)((k=(A=this.lastErrorLog)===null||A===void 0?void 0:A.fields)===null||k===void 0?void 0:k.message)==="PANIC"?(L=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=L):L=new C.PrismaClientUnknownRequestError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastErrorLog),version:this.clientVersion}));else if(y.code&&y.code==="ECONNRESET"||y.code==="ECONNREFUSED"||y.code==="UND_ERR_SOCKET"&&y.message.toLowerCase().includes("closed")||y.message.toLowerCase().includes("client is destroyed")||y.message.toLowerCase().includes("other side closed")||y.code==="UND_ERR_CLOSED"){if(this.globalKillSignalReceived&&!this.child.connected)throw new C.PrismaClientUnknownRequestError(`The Node.js process already received a ${this.globalKillSignalReceived} signal, therefore the Prisma query engine exited
and your request can't be processed.
You probably have some open handle that prevents your process from exiting.
It could be an open http server or stream that didn't close yet.
We recommend using the \`wtfnode\` package to debug open handles.`);if(this.restartCount>4)throw new Error(`Query engine is trying to restart, but can't.
Please look into the logs or turn on the env var DEBUG=* to debug the constantly restarting query engine.`);if(this.lastError?this.lastError.is_panic?(L=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastError),version:this.clientVersion})),this.lastPanic=L):L=new C.PrismaClientUnknownRequestError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastError),version:this.clientVersion})):this.lastErrorLog&&(((K=(Q=this.lastErrorLog)===null||Q===void 0?void 0:Q.fields)===null||K===void 0?void 0:K.message)==="PANIC"?(L=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastErrorLog),version:this.clientVersion})),this.lastPanic=L):L=new C.PrismaClientUnknownRequestError(C.getErrorMessageWithLink({platform:this.platform,title:C.getMessage(this.lastErrorLog),version:this.clientVersion}))),!L){let ne=this.getLastLog();ne||(await new Promise(Kn=>setTimeout(Kn,500)),ne=this.getLastLog());const Ne=ne||this.stderrLogs||this.stdoutLogs;let kr=ne!=null?ne:y.message,ft=y.stack+`
Exit code: `+this.exitCode+`
`+Ne;if(ft=`signalCode: ${(S=this.child)===null||S===void 0?void 0:S.signalCode} | exitCode: ${(fe=this.child)===null||fe===void 0?void 0:fe.exitCode} | killed: ${(P=this.child)===null||P===void 0?void 0:P.killed}
`+ft,L=new C.PrismaClientUnknownRequestError(C.getErrorMessageWithLink({platform:this.platform,title:kr,version:this.clientVersion,description:ft})),N(L.message),v)return!1}}throw L||y},this.env=l,this.cwd=this.resolveCwd(e),this.enableDebugLogs=h!=null?h:!1,this.enableEngineDebugMode=m!=null?m:!1,this.datamodelPath=t,this.prismaPath=(g=process.env.PRISMA_QUERY_ENGINE_BINARY)!==null&&g!==void 0?g:r,this.generator=n,this.datasources=i,this.logEmitter=new Qy.default,this.showColors=s!=null?s:!1,this.logLevel=o,this.logQueries=a!=null?a:!1,this.clientVersion=u,this.flags=d!=null?d:[],this.enableExperimental=c!=null?c:[];const w=["middlewares","aggregateApi","distinct","aggregations","insensitiveFilters"],M=this.enableExperimental.filter(y=>w.includes(y));if(M.length>0&&console.log(`${z.default.blueBright("info")} The preview flags \`${M.join("`, `")}\` were removed, you can now safely remove them from your schema.prisma.`),this.enableExperimental=this.enableExperimental.filter(y=>!w.includes(y)),this.engineEndpoint=f,b&&process.platform!=="win32"&&(this.socketPath=`/tmp/prisma-${Cs.getRandomString()}.sock`,vr.push(this.socketPath),this.useUds=b),f){const y=new URL(f);this.port=Number(y.port)}if(this.logEmitter.on("error",y=>{this.enableDebugLogs&&Rn.default("engine:log")(y),y instanceof Error?Rn.default("engine:error")(y):(this.lastErrorLog=y,y.fields.message==="PANIC"&&this.handlePanic(y))}),this.platform){if(!nd.includes(this.platform)&&!oe.default.existsSync(this.platform))throw new C.PrismaClientInitializationError(`Unknown ${z.default.red("PRISMA_QUERY_ENGINE_BINARY")} ${z.default.redBright.bold(this.platform)}. Possible binaryTargets: ${z.default.greenBright(nd.join(", "))} or a path to the query engine binary.
You may have to run ${z.default.greenBright("prisma generate")} for your changes to take effect.`)}else this.getPlatform();this.enableDebugLogs&&Rn.default.enable("*"),Ln.push(this)}resolveCwd(e){return e&&oe.default.existsSync(e)&&oe.default.lstatSync(e).isDirectory()?e:process.cwd()}on(e,t){this.logEmitter.on(e,t)}async getPlatform(){return this.platformPromise?this.platformPromise:(this.platformPromise=Vy.getPlatform(),this.platformPromise)}getQueryEnginePath(e,t=__dirname){let r=Mr.default.join(t,`query-engine-${e}`);return e==="windows"&&(r=`${r}.exe`),r}handlePanic(e){var t;(t=this.child)===null||t===void 0||t.kill(),this.currentRequestPromise&&this.currentRequestPromise.cancel()}async resolvePrismaPath(){if(this.prismaPath)return this.prismaPath;const platform=await this.getPlatform();this.platform&&this.platform!==platform&&(this.incorrectlyPinnedBinaryTarget=this.platform),this.platform=this.platform||platform;const fileName=eval("require('path').basename(__filename)");if(fileName==="NodeEngine.js")return this.getQueryEnginePath(this.platform,Mr.default.resolve(__dirname,".."));{const dotPrismaPath=await this.getQueryEnginePath(this.platform,eval("require('path').join(__dirname, '../../../.prisma/client')"));if(N({dotPrismaPath}),oe.default.existsSync(dotPrismaPath))return dotPrismaPath;const dirnamePath=await this.getQueryEnginePath(this.platform,eval("__dirname"));if(N({dirnamePath}),oe.default.existsSync(dirnamePath))return dirnamePath;const parentDirName=await this.getQueryEnginePath(this.platform,Mr.default.join(eval("__dirname"),".."));if(N({parentDirName}),oe.default.existsSync(parentDirName))return parentDirName;const datamodelDirName=await this.getQueryEnginePath(this.platform,Mr.default.dirname(this.datamodelPath));if(oe.default.existsSync(datamodelDirName))return datamodelDirName;const cwdPath=await this.getQueryEnginePath(this.platform,this.cwd);if(oe.default.existsSync(cwdPath))return cwdPath;const prismaPath=await this.getQueryEnginePath(this.platform);return N({prismaPath}),prismaPath}}async getPrismaPath(){const e=await this.resolvePrismaPath(),t=await this.getPlatform();if(!await ew(e)){const r=this.incorrectlyPinnedBinaryTarget?`
You incorrectly pinned it to ${z.default.redBright.bold(`${this.incorrectlyPinnedBinaryTarget}`)}
`:"",n=Mr.default.dirname(e),i=oe.default.existsSync(n);let s=[];i&&(s=await tw(n));let o=`Query engine binary for current platform "${z.default.bold(t)}" could not be found.${r}
This probably happens, because you built Prisma Client on a different platform.
(Prisma Client looked in "${z.default.underline(e)}")

Files in ${n}:

${s.map(a=>`  ${a}`).join(`
`)}
`;throw this.generator?this.generator.binaryTargets.includes(this.platform)||this.generator.binaryTargets.includes("native")?o+=`
You already added the platform${this.generator.binaryTargets.length>1?"s":""} ${this.generator.binaryTargets.map(a=>`"${z.default.bold(a)}"`).join(", ")} to the "${z.default.underline("generator")}" block
in the "schema.prisma" file as described in https://pris.ly/d/client-generator,
but something went wrong. That's suboptimal.

Please create an issue at https://github.com/prisma/prisma-client-js/issues/new`:o+=`

To solve this problem, add the platform "${this.platform}" to the "${z.default.underline("generator")}" block in the "schema.prisma" file:
${z.default.greenBright(this.getFixedGenerator())}

Then run "${z.default.greenBright("prisma generate")}" for your changes to take effect.
Read more about deploying Prisma Client: https://pris.ly/d/client-generator`:o+=`

Read more about deploying Prisma Client: https://pris.ly/d/client-generator
`,new C.PrismaClientInitializationError(o)}return this.incorrectlyPinnedBinaryTarget&&console.error(`${z.default.yellow("Warning:")} You pinned the platform ${z.default.bold(this.incorrectlyPinnedBinaryTarget)}, but Prisma Client detects ${z.default.bold(await this.getPlatform())}.
This means you should very likely pin the platform ${z.default.greenBright(await this.getPlatform())} instead.
${z.default.dim("In case we're mistaken, please report this to us 🙏.")}`),process.platform!=="win32"&&Cs.plusX(e),e}getFixedGenerator(){const e={...this.generator,binaryTargets:Cs.fixBinaryTargets(this.generator.binaryTargets,this.platform)};return Jy.printGeneratorConfig(e)}printDatasources(){return this.datasources?JSON.stringify(this.datasources):"[]"}async start(){return this.startPromise||(this.startPromise=this.internalStart()),this.startPromise}async getEngineEnvVars(){const e={PRISMA_DML_PATH:this.datamodelPath,RUST_BACKTRACE:"1",RUST_LOG:"info"};return this.useUds||(e.PORT=String(this.port),N(`port: ${this.port}`)),(this.logQueries||this.logLevel==="info")&&(e.RUST_LOG="info",this.logQueries&&(e.LOG_QUERIES="true")),this.datasources&&(e.OVERWRITE_DATASOURCES=this.printDatasources()),!process.env.NO_COLOR&&this.showColors&&(e.CLICOLOR_FORCE="1"),{...this.env,...process.env,...e}}internalStart(){return new Promise(async(e,t)=>{var r,n,i;if(await new Promise(s=>process.nextTick(s)),this.stopPromise&&await this.stopPromise,this.engineEndpoint){try{await ed.default(()=>this.undici.status(),{retries:10})}catch(s){return t(s)}return e()}try{(((r=this.child)===null||r===void 0?void 0:r.connected)||this.child&&!((n=this.child)===null||n===void 0?void 0:n.killed))&&N("There is a child that still runs and we want to start again"),this.queryEngineStarted=!1,this.lastError=void 0,this.lastErrorLog=void 0,this.lastPanic=void 0,this.queryEngineKilled=!1,this.globalKillSignalReceived=void 0,N({cwd:this.cwd});const s=await this.getPrismaPath(),o=this.enableExperimental&&Array.isArray(this.enableExperimental)&&this.enableExperimental.length>0?[`--enable-experimental=${this.enableExperimental.join(",")}`]:[],a=this.enableEngineDebugMode?["--debug"]:[],l=[...o,...a,"--enable-raw-queries",...this.flags];this.useUds&&l.push("--unix-path",this.socketPath),N({flags:l}),this.port=await this.getFreePort();const d=await this.getEngineEnvVars();if(this.child=Xy.spawn(s,l,{env:d,cwd:this.cwd,windowsHide:!0,stdio:["ignore","pipe","pipe"]}),Zc.default(this.child.stderr).on("data",u=>{const c=String(u);N("stderr",c);try{const f=JSON.parse(c);if(typeof f.is_panic!="undefined"&&(N(f),this.lastError=f,this.engineStartDeferred)){const h=new C.PrismaClientInitializationError(this.lastError.message);this.engineStartDeferred.reject(h)}}catch(f){!c.includes("Printing to stderr")&&!c.includes("Listening on ")&&(this.stderrLogs+=`
`+c)}}),Zc.default(this.child.stdout).on("data",u=>{var c;const f=String(u);try{const h=JSON.parse(f);if(N("stdout",h),this.engineStartDeferred&&h.level==="INFO"&&h.target==="query_engine::server"&&((c=h.fields)===null||c===void 0?void 0:c.message.startsWith("Started http server"))&&(this.useUds?this.undici=new rd.Undici({hostname:"localhost",protocol:"http:"},{socketPath:this.socketPath}):this.undici=new rd.Undici(`http://localhost:${this.port}`),this.engineStartDeferred.resolve(),this.engineStartDeferred=void 0,this.queryEngineStarted=!0),typeof h.is_panic=="undefined"){const m=Ky.convertLog(h);this.logEmitter.emit(m.level,m),this.lastLog=m}else this.lastError=h}catch(h){N(h,f)}}),this.child.on("exit",u=>{var c,f;if(this.engineStopDeferred){this.engineStopDeferred.resolve(u);return}if((c=this.undici)===null||c===void 0||c.close(),this.exitCode=u,!this.queryEngineKilled&&this.queryEngineStarted&&this.restartCount<5){ed.default(async h=>{N(`Restart attempt ${h}. Waiting for backoff`),this.backoffPromise&&await this.backoffPromise,N(`Restart attempt ${h}. Backoff done`),this.restartCount++;const m=Math.random()*2*Math.pow(Math.E,this.restartCount);return this.startPromise=void 0,this.backoffPromise=new Promise(b=>setTimeout(b,m)),this.start()},{retries:4,randomize:!0,minTimeout:1e3,maxTimeout:60*1e3,factor:Math.E,onFailedAttempt:h=>{N(h)}});return}if(u!==0&&this.engineStartDeferred){let h;u!==null?h=new C.PrismaClientInitializationError(`Query engine exited with code ${u}
`+this.stderrLogs):((f=this.child)===null||f===void 0?void 0:f.signalCode)?h=new C.PrismaClientInitializationError(`Query engine process killed with signal ${this.child.signalCode} for unknown reason.
Make sure that the engine binary at ${s} is not corrupt.
`+this.stderrLogs):h=new C.PrismaClientInitializationError(this.stderrLogs),this.engineStartDeferred.reject(h)}if(!this.child)return;if(this.lastError)return;if(this.lastErrorLog){this.lastErrorLog.target="exit";return}u===126?this.lastErrorLog={timestamp:new Date,target:"exit",level:"error",fields:{message:`Couldn't start query engine as it's not executable on this operating system.
You very likely have the wrong "binaryTarget" defined in the schema.prisma file.`}}:this.lastErrorLog={target:"exit",timestamp:new Date,level:"error",fields:{message:(this.stderrLogs||"")+(this.stdoutLogs||"")+`
Exit code: ${u}`}}}),this.child.on("error",u=>{this.lastError={message:u.message,backtrace:"Could not start query engine",is_panic:!1},t(u)}),this.child.on("close",(u,c)=>{var f,h;if((f=this.undici)===null||f===void 0||f.close(),u===null&&c==="SIGABRT"&&this.child){const m=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:"Panic in Query Engine with SIGABRT signal",description:this.stderrLogs,version:this.clientVersion}));this.logEmitter.emit("error",m)}else if(u===255&&c===null&&((h=this.lastErrorLog)===null||h===void 0?void 0:h.fields.message)==="PANIC"&&!this.lastPanic){const m=new C.PrismaClientRustPanicError(C.getErrorMessageWithLink({platform:this.platform,title:`${this.lastErrorLog.fields.message}: ${this.lastErrorLog.fields.reason} in
${this.lastErrorLog.fields.file}:${this.lastErrorLog.fields.line}:${this.lastErrorLog.fields.column}`,version:this.clientVersion}));this.logEmitter.emit("error",m)}}),this.lastError)return t(new C.PrismaClientInitializationError(C.getMessage(this.lastError)));if(this.lastErrorLog)return t(new C.PrismaClientInitializationError(C.getMessage(this.lastErrorLog)));try{await new Promise((u,c)=>{this.engineStartDeferred={resolve:u,reject:c}})}catch(u){throw(i=this.child)===null||i===void 0||i.kill(),u}this.url=`http://localhost:${this.port}`,(async()=>{const u=await this.version();N(`Client Version ${this.clientVersion}`),N(`Engine Version ${u}`)})(),this.stopPromise=void 0,e()}catch(s){t(s)}})}async stop(){return this.stopPromise||(this.stopPromise=this._stop()),this.stopPromise}async _stop(){var e,t;if(this.startPromise&&await this.startPromise,await new Promise(n=>process.nextTick(n)),this.currentRequestPromise)try{await this.currentRequestPromise}catch(n){}this.getConfigPromise=void 0;let r;this.child&&(N("Stopping Prisma engine4"),this.startPromise&&(N("Waiting for start promise"),await this.startPromise),N("Done waiting for start promise"),r=new Promise((n,i)=>{this.engineStopDeferred={resolve:n,reject:i}}),this.queryEngineKilled=!0,(e=this.undici)===null||e===void 0||e.close(),(t=this.child)===null||t===void 0||t.kill(),this.child=void 0),r&&await r,await new Promise(n=>process.nextTick(n)),this.startPromise=void 0,this.engineStopDeferred=void 0,setTimeout(()=>{if(this.socketPath){try{oe.default.unlinkSync(this.socketPath)}catch(n){N(n)}vr.splice(vr.indexOf(this.socketPath),1),this.socketPath=void 0}})}async kill(e){var t,r;this.getConfigPromise=void 0,this.globalKillSignalReceived=e,this.queryEngineKilled=!0,(t=this.child)===null||t===void 0||t.kill(),(r=this.undici)===null||r===void 0||r.close()}getFreePort(){return new Promise((e,t)=>{const r=Yy.default.createServer(n=>n.end(""));r.unref(),r.on("error",t),r.listen(0,()=>{const n=r.address(),i=typeof n=="string"?parseInt(n.split(":").slice(-1)[0],10):n.port;r.close(s=>{s&&t(s),e(i)})})})}async getConfig(){return this.getConfigPromise||(this.getConfigPromise=this._getConfig()),this.getConfigPromise}async _getConfig(){const e=await this.getPrismaPath(),t=await this.getEngineEnvVars(),r=await td.default(e,["cli","get-config"],{env:Zy.omit(t,["PORT"]),cwd:this.cwd});return JSON.parse(r.stdout)}async version(){const e=await this.getPrismaPath(),t=await td.default(e,["--version"],{env:{...process.env}});return t.stdout}async request(e,t,r=1){if(this.stopPromise&&await this.stopPromise,await this.start(),!this.child&&!this.engineEndpoint)throw new C.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");return this.currentRequestPromise=this.undici.request(rw(e),t),this.currentRequestPromise.then(({data:n,headers:i})=>{if(n.errors)throw n.errors.length===1?this.graphQLToJSError(n.errors[0]):new Error(JSON.stringify(n.errors));const s=parseInt(i["x-elapsed"])/1e3;return this.restartCount>0&&(this.restartCount=0),{data:n,elapsed:s}}).catch(async n=>{const i=await this.handleRequestError(n,r<3);if(!i&&r<3)return await new Promise(s=>setTimeout(s,Math.random()*1e3)),this.request(e,t,r+1);throw i})}async requestBatch(e,t=!1,r=1){if(await this.start(),!this.child&&!this.engineEndpoint)throw new C.PrismaClientUnknownRequestError("Can't perform request, as the Engine has already been stopped");const n={},i={batch:e.map(s=>({query:s,variables:n})),transaction:t};return this.currentRequestPromise=this.undici.request(JSON.stringify(i)),this.currentRequestPromise.then(({data:s,headers:o})=>{const a=parseInt(o["x-elapsed"])/1e3;if(Array.isArray(s))return s.map(l=>l.errors?this.graphQLToJSError(l.errors[0]):{data:l,elapsed:a});throw s.errors&&s.errors.length===1?new Error(s.errors[0].error):new Error(JSON.stringify(s))}).catch(async s=>{const o=await this.handleRequestError(s,r<3);if(!o&&r<3)return await new Promise(a=>setTimeout(a,Math.random()*1e3)),this.requestBatch(e,t,r+1);throw o})}getLastLog(){var e,t,r;const n=(t=(e=this.lastLog)===null||e===void 0?void 0:e.fields)===null||t===void 0?void 0:t.message;if(n){const i=Object.entries((r=this.lastLog)===null||r===void 0?void 0:r.fields).filter(([s])=>s!=="message").map(([s,o])=>`${s}: ${o}`).join(", ");return i?`${n}  ${i}`:n}return null}graphQLToJSError(e){return e.user_facing_error.error_code?new C.PrismaClientKnownRequestError(e.user_facing_error.message,e.user_facing_error.error_code,e.user_facing_error.meta):new C.PrismaClientUnknownRequestError(e.user_facing_error.message)}}Bt.NodeEngine=nw;function rw(e){return`{"variables":{},"query":${JSON.stringify(e)}}`}function Ut(e,t=!1){process.once(e,()=>{for(const r of Ln)r.kill(e);if(Ln.splice(0,Ln.length),t&&process.exit(),vr.length>0)for(const r of vr)try{oe.default.unlinkSync(r)}catch(n){}})}Ut("beforeExit");Ut("exit");Ut("SIGINT",!0);Ut("SIGUSR1",!0);Ut("SIGUSR2",!0);Ut("SIGTERM",!0)});var sd=p(Gt=>{"use strict";var id=Gt&&Gt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.getInternalDatamodelJson=void 0;const iw=id(require("path")),sw=require("child_process"),ow=id(zi());function aw(e,t=iw.default.join(__dirname,"../schema-inferrer-bin")){return new Promise((r,n)=>{const i=sw.spawn(t,{stdio:["pipe","pipe",process.stderr]});i.on("error",function(a){console.error("[schema-inferrer-bin] error: %s",a),n(a)}),i.on("exit",function(a,l){a!==0&&console.error("[schema-inferrer-bin] exit: code=%s signal=%s",a,l),n()});const s=ow.default(i.stdout);s.on("data",a=>{const l=JSON.parse(a),d=Buffer.from(JSON.stringify(l)).toString("base64");r(d)});const o=e.replace(/\n/g," ");i.stdin.write(JSON.stringify({dataModel:o})+`
`)})}Gt.getInternalDatamodelJson=aw});var od=p(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.fixBinaryTargets=H.printGeneratorConfig=H.getInternalDatamodelJson=H.Engine=H.PrismaClientRustPanicError=H.PrismaClientInitializationError=H.PrismaClientUnknownRequestError=H.PrismaClientKnownRequestError=void 0;var Pn=qi();Object.defineProperty(H,"PrismaClientKnownRequestError",{enumerable:!0,get:function(){return Pn.PrismaClientKnownRequestError}});Object.defineProperty(H,"PrismaClientUnknownRequestError",{enumerable:!0,get:function(){return Pn.PrismaClientUnknownRequestError}});Object.defineProperty(H,"PrismaClientInitializationError",{enumerable:!0,get:function(){return Pn.PrismaClientInitializationError}});Object.defineProperty(H,"PrismaClientRustPanicError",{enumerable:!0,get:function(){return Pn.PrismaClientRustPanicError}});var lw=Ds();Object.defineProperty(H,"Engine",{enumerable:!0,get:function(){return lw.NodeEngine}});var uw=sd();Object.defineProperty(H,"getInternalDatamodelJson",{enumerable:!0,get:function(){return uw.getInternalDatamodelJson}});var cw=Ui();Object.defineProperty(H,"printGeneratorConfig",{enumerable:!0,get:function(){return cw.printGeneratorConfig}});var dw=tn();Object.defineProperty(H,"fixBinaryTargets",{enumerable:!0,get:function(){return dw.fixBinaryTargets}})});var xs=p(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.sqltag=ae.empty=ae.raw=ae.join=ae.Sql=void 0;const fw=require("util");class Ve{constructor(e,t){if(e.length===0)throw new TypeError("Expected at least 1 string");if(e.length-1!==t.length)throw new TypeError(`Expected ${e.length} strings to have ${e.length-1} values`);let r=t.length,n=e.length;for(const o of t)o instanceof Ve&&(r+=o.values.length-1,n+=o.strings.length-2);this.values=new Array(r),this.strings=new Array(n),this.strings[0]=e[0];let i=1,s=0;for(;i<e.length;){const o=t[i-1],a=e[i++];if(o instanceof Ve){this.strings[s]+=o.strings[0];let l=0;for(;l<o.values.length;)this.values[s++]=o.values[l++],this.strings[s]=o.strings[l];this.strings[s]+=a}else this.values[s++]=o,this.strings[s]=a}}get text(){return this.strings.reduce((e,t,r)=>`${e}$${r}${t}`)}get sql(){return this.strings.join("?")}[fw.inspect.custom](){return{text:this.text,sql:this.sql,values:this.values}}}ae.Sql=Ve;Object.defineProperty(Ve.prototype,"sql",{enumerable:!0});Object.defineProperty(Ve.prototype,"text",{enumerable:!0});function hw(e,t=","){if(e.length===0)throw new TypeError("Expected `join([])` to be called with an array of multiple elements, but got an empty array");return new Ve(["",...Array(e.length-1).fill(t),""],e)}ae.join=hw;function ad(e){return new Ve([e],[])}ae.raw=ad;ae.empty=ad("");function ld(e,...t){return new Ve(e.raw,t)}ae.sqltag=ld;ae.default=ld});var dd=p((K0,Ss)=>{const pw=require("fs"),mw=require("path");function ud(e){console.log(`[dotenv][DEBUG] ${e}`)}const gw=`
`,yw=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,ww=/\\n/g,bw=/\n|\r|\r\n/;function cd(e,t){const r=Boolean(t&&t.debug),n={};return e.toString().split(bw).forEach(function(i,s){const o=i.match(yw);if(o!=null){const a=o[1];let l=o[2]||"";const d=l.length-1,u=l[0]==='"'&&l[d]==='"',c=l[0]==="'"&&l[d]==="'";c||u?(l=l.substring(1,d),u&&(l=l.replace(ww,gw))):l=l.trim(),n[a]=l}else r&&ud(`did not match key and value when parsing line ${s+1}: ${i}`)}),n}function Mw(e){let t=mw.resolve(process.cwd(),".env"),r="utf8",n=!1;e&&(e.path!=null&&(t=e.path),e.encoding!=null&&(r=e.encoding),e.debug!=null&&(n=!0));try{const i=cd(pw.readFileSync(t,{encoding:r}),{debug:n});return Object.keys(i).forEach(function(s){Object.prototype.hasOwnProperty.call(process.env,s)?n&&ud(`"${s}" is already defined in \`process.env\` and will not be overwritten`):process.env[s]=i[s]}),{parsed:i}}catch(i){return{error:i}}}Ss.exports.config=Mw;Ss.exports.parse=cd});var fd=p(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.dotenvExpand=void 0;function vw(e){const t=e.ignoreProcessEnv?{}:process.env,r=i=>{var s=i.match(/(.?\${(?:[a-zA-Z0-9_]+)?})/g)||[];return s.reduce(function(o,a){const l=/(.?)\${([a-zA-Z0-9_]+)?}/g.exec(a);if(!l)return o;const d=l[1];let u,c;if(d==="\\")c=l[0],u=c.replace("\\$","$");else{const f=l[2];c=l[0].substring(d.length),u=t.hasOwnProperty(f)?t[f]:e.parsed[f]||"",u=r(u)}return o.replace(c,u)},i)};for(const i in e.parsed){const s=t.hasOwnProperty(i)?t[i]:e.parsed[i];e.parsed[i]=r(s)}for(var n in e.parsed)t[n]=e.parsed[n];return e}Nn.dotenvExpand=vw});var hd=p(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.mapPreviewFeatures=void 0;const Ew={transactionApi:"transaction",aggregateApi:"aggregations"};function Tw(e){return Array.isArray(e)&&e.length>0?e.map(t=>{var r;return(r=Ew[t])!==null&&r!==void 0?r:t}):[]}Fn.mapPreviewFeatures=Tw});var _s=p(Aw=>{Gd(Aw,{DMMF:()=>Ye.DMMF,DMMFClass:()=>Er,Engine:()=>Z.Engine,PrismaClientInitializationError:()=>Z.PrismaClientInitializationError,PrismaClientKnownRequestError:()=>Z.PrismaClientKnownRequestError,PrismaClientRustPanicError:()=>Z.PrismaClientRustPanicError,PrismaClientUnknownRequestError:()=>Z.PrismaClientUnknownRequestError,PrismaClientValidationError:()=>jn,RawValue:()=>j.RawValue,Sql:()=>j.Sql,Value:()=>j.Value,debugLib:()=>Os.default,empty:()=>j.empty,getPrismaClient:()=>Is,join:()=>j.join,makeDocument:()=>Tr,raw:()=>j.raw,sqltag:()=>j.sqltag,transformDocument:()=>Ar,unpack:()=>Cr});const Os=R(rr()),Z=R(od()),j=R(xs())});const Ye=R(xa());const Je=R(Te()),ks=R(Vr()),pd=R(Ia()),Qe=(e,t)=>{const r={};for(const n of e){const i=n[t];r[i]=n}return r},md=(e,t,r)=>{const n={};for(const i of e){const s=i[r];n[s]=i}for(const i of t){const s=i[r];n[s]=i}return n},zt={String:!0,Int:!0,Float:!0,Boolean:!0,Long:!0,DateTime:!0,ID:!0,UUID:!0,Json:!0},Cw={string:"String",boolean:"Boolean",object:"Json"};function Ht(e){return typeof e=="string"?e:e.name}function Dr(e,t){return t?`List<${e}>`:e}function Wt(e,t){if(e===null)return"null";if(Array.isArray(e)){let n=e.reduce((i,s)=>{const o=Wt(s,t);return i.includes(o)||i.push(o),i},[]);return n.includes("Float")&&n.includes("Int")&&(n=["Float"]),`List<${n.join(" | ")}>`}const r=typeof e;if(r==="number")return Math.trunc(e)===e?"Int":"Float";if(Object.prototype.toString.call(e)==="[object Date]")return"DateTime";if(r==="string"){if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e))return"UUID";const n=new Date(e);if(t&&typeof t=="object"&&t.values&&t.values.includes(e))return t.name;if(n.toString()==="Invalid Date")return"String";if(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/.test(e))return"DateTime"}return Cw[r]}function qn(e,t){const r=t.reduce((n,i)=>{const s=pd.default(e,i);return s<n.distance?{distance:s,str:i}:n},{distance:Math.min(Math.floor(e.length)*1.1,...t.map(n=>n.length*3)),str:null});return r.str}function Vt(e,t=!1){if(typeof e=="string")return e;if(e.values)return`enum ${e.name} {
${ks.default(e.values.join(", "),2)}
}`;{const r=ks.default(e.fields.map(n=>{const i=`${n.name}`,s=`${t?Je.default.green(i):i}${n.isRequired?"":"?"}: ${Je.default.white(n.inputTypes.map(o=>Dr(Dw(o.type)?o.type.name:Ht(o.type),o.isList)).join(" | "))}`;return n.isRequired?s:Je.default.dim(s)}).join(`
`),2);return`${Je.default.dim("type")} ${Je.default.bold.dim(e.name)} ${Je.default.dim("{")}
${r}
${Je.default.dim("}")}`}}function Dw(e){return!(typeof e=="string")}function xr(e){return typeof e=="string"?e==="Null"?"null":e:e.name}function ct(e){return typeof e=="string"?e:e.name}function Rs(e,t,r=!1){if(typeof e=="string")return e==="Null"?"null":e;if(e.values)return e.values.join(" | ");const n=e,i=t&&n.fields.every(s=>{var o;return s.inputTypes[0].kind==="object"||((o=s.inputTypes[1])==null?void 0:o.kind)==="object"});return r?xr(e):n.fields.reduce((s,o)=>{let a="";return!i&&!o.isRequired?a=o.inputTypes.map(l=>xr(l.type)).join(" | "):a=o.inputTypes.map(l=>Rs(l.type,o.isRequired,!0)).join(" | "),s[o.name+(o.isRequired?"":"?")]=a,s},{})}function gd(e,t,r){const n={};for(const i of e)n[r(i)]=i;for(const i of t){const s=r(i);n[s]||(n[s]=i)}return Object.values(n)}function Ls(e){return e.substring(0,1).toLowerCase()+e.substring(1)}class Er{constructor({datamodel:e,schema:t,mappings:r}){this.outputTypeMap={};this.outputTypeToMergedOutputType=e=>{const t=this.modelMap[e.name];return{...e,isEmbedded:t?t.isEmbedded:!1,fields:e.fields}};this.datamodel=e,this.schema=t,this.mappings=r,this.enumMap=this.getEnumMap(),this.queryType=this.getQueryType(),this.mutationType=this.getMutationType(),this.modelMap=this.getModelMap(),this.outputTypes=this.getOutputTypes(),this.outputTypeMap=this.getMergedOutputTypeMap(),this.resolveOutputTypes(this.outputTypes),this.inputTypes=this.schema.inputTypes,this.inputTypeMap=this.getInputTypeMap(),this.resolveInputTypes(this.inputTypes),this.resolveFieldArgumentTypes(this.outputTypes,this.inputTypeMap),this.mappingsMap=this.getMappingsMap(),this.queryType=this.outputTypeMap.Query,this.mutationType=this.outputTypeMap.Mutation,this.outputTypes=this.outputTypes,this.rootFieldMap=this.getRootFieldMap()}resolveOutputTypes(e){for(const t of e){for(const r of t.fields)typeof r.outputType.type=="string"&&!zt[r.outputType.type]&&(r.outputType.type=this.outputTypeMap[r.outputType.type]||this.enumMap[r.outputType.type]||r.outputType.type);t.fieldMap=Qe(t.fields,"name")}}resolveInputTypes(e){for(const t of e){for(const r of t.fields){const n=r.inputTypes[0].type;typeof n=="string"&&!zt[n]&&(this.inputTypeMap[n]||this.enumMap[n])&&(r.inputTypes[0].type=this.inputTypeMap[n]||this.enumMap[n]||r.inputTypes[0].type);const i=r.inputTypes[1]&&r.inputTypes[1].type;typeof i=="string"&&!zt[i]&&(this.inputTypeMap[i]||this.enumMap[i])&&(r.inputTypes[1].type=this.inputTypeMap[i]||this.enumMap[i]||r.inputTypes[1].type)}t.fieldMap=Qe(t.fields,"name")}}resolveFieldArgumentTypes(e,t){for(const r of e)for(const n of r.fields)for(const i of n.args){const s=i.inputTypes[0].type;typeof s=="string"&&!zt[s]&&(i.inputTypes[0].type=t[s]||this.enumMap[s]||i.inputTypes[0].type);const o=i.inputTypes[1]&&i.inputTypes[1].type;o&&typeof o=="string"&&!zt[o]&&(i.inputTypes[1].type=t[o]||this.enumMap[o]||i.inputTypes[1].type)}}getQueryType(){return this.schema.outputTypes.find(e=>e.name==="Query")}getMutationType(){return this.schema.outputTypes.find(e=>e.name==="Mutation")}getOutputTypes(){return this.schema.outputTypes.map(this.outputTypeToMergedOutputType)}getEnumMap(){return Qe(this.schema.enums,"name")}getModelMap(){return Qe(this.datamodel.models,"name")}getMergedOutputTypeMap(){return Qe(this.outputTypes,"name")}getInputTypeMap(){return Qe(this.schema.inputTypes,"name")}getMappingsMap(){return Qe(this.mappings,"model")}getRootFieldMap(){return md(this.queryType.fields,this.mutationType.fields,"name")}}function yd(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function wd(e){if(e instanceof Buffer){const t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(t),t}else{if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}}function bd(e){const t=[];return e.forEach(function(r,n){typeof r=="object"&&r!==null?Array.isArray(r)?t[n]=bd(r):yd(r)?t[n]=wd(r):t[n]=Sr({},r):t[n]=r}),t}function Md(e,t){return t==="__proto__"?void 0:e[t]}const Sr=function(e,...t){if(!e||typeof e!="object")return!1;if(t.length===0)return e;let r,n;for(const i of t){if(typeof i!="object"||i===null||Array.isArray(i))continue;for(const s of Object.keys(i)){if(n=Md(e,s),r=Md(i,s),r===e)continue;if(typeof r!="object"||r===null){e[s]=r;continue}else if(Array.isArray(r)){e[s]=bd(r);continue}else if(yd(r)){e[s]=wd(r);continue}else if(typeof n!="object"||n===null||Array.isArray(n)){e[s]=Sr({},r);continue}else{e[s]=Sr(n,r);continue}}}return e};const vd=e=>Array.isArray(e)?e:e.split("."),Ps=(e,t)=>vd(t).reduce((r,n)=>r&&r[n],e),$n=(e,t,r)=>vd(t).reduceRight((n,i,s,o)=>Object.assign({},Ps(e,o.slice(0,s)),{[i]:n}),r);function Ed(e,t){if(!e||typeof e!="object"||typeof e.hasOwnProperty!="function")return e;const r={};for(const n in e){const i=e[n];e.hasOwnProperty(n)&&t(n,i)&&(r[n]=i)}return r}function Bn(e,t){const r={},n=Array.isArray(t)?t:[t];for(const i in e)e.hasOwnProperty(i)&&!n.includes(i)&&(r[i]=e[i]);return r}"use strict";const xw=Pa(),Sw=Fa(),Ow=ja().default,Iw=(e,t,r)=>{const n=[];return function i(s,o={},a="",l=[]){o.indent=o.indent||"	";let d;o.inlineCharacterLimit===void 0?d={newLine:`
`,newLineOrSpace:`
`,pad:a,indent:a+o.indent}:d={newLine:"@@__STRINGIFY_OBJECT_NEW_LINE__@@",newLineOrSpace:"@@__STRINGIFY_OBJECT_NEW_LINE_OR_SPACE__@@",pad:"@@__STRINGIFY_OBJECT_PAD__@@",indent:"@@__STRINGIFY_OBJECT_INDENT__@@"};const u=c=>{if(o.inlineCharacterLimit===void 0)return c;const f=c.replace(new RegExp(d.newLine,"g"),"").replace(new RegExp(d.newLineOrSpace,"g")," ").replace(new RegExp(d.pad+"|"+d.indent,"g"),"");return f.length<=o.inlineCharacterLimit?f:c.replace(new RegExp(d.newLine+"|"+d.newLineOrSpace,"g"),`
`).replace(new RegExp(d.pad,"g"),a).replace(new RegExp(d.indent,"g"),a+o.indent)};if(n.indexOf(s)!==-1)return'"[Circular]"';if(s==null||typeof s=="number"||typeof s=="boolean"||typeof s=="function"||typeof s=="symbol"||xw(s))return String(s);if(s instanceof Date)return`new Date('${s.toISOString()}')`;if(Array.isArray(s)){if(s.length===0)return"[]";n.push(s);const c="["+d.newLine+s.map((f,h)=>{const m=s.length-1===h?d.newLine:","+d.newLineOrSpace;let b=i(f,o,a+o.indent,[...l,h]);return o.transformValue&&(b=o.transformValue(s,h,b)),d.indent+b+m}).join("")+d.pad+"]";return n.pop(),u(c)}if(Sw(s)){let c=Object.keys(s).concat(Ow(s));if(o.filter&&(c=c.filter(h=>o.filter(s,h))),c.length===0)return"{}";n.push(s);const f="{"+d.newLine+c.map((h,m)=>{const b=c.length-1===m?d.newLine:","+d.newLineOrSpace,g=typeof h=="symbol",w=!g&&/^[a-z$_][a-z$_0-9]*$/i.test(h),M=g||w?h:i(h,o,void 0,[...l,h]);let y=i(s[h],o,a+o.indent,[...l,h]);o.transformValue&&(y=o.transformValue(s,h,y));let v=d.indent+String(M)+": "+y+b;return o.transformLine&&(v=o.transformLine({obj:s,indent:d.indent,key:M,stringifiedValue:y,value:s[h],eol:b,originalLine:v,path:l.concat(M)})),v}).join("")+d.pad+"}";return n.pop(),u(f)}return s=String(s).replace(/[\r\n]/g,c=>c===`
`?"\\n":"\\r"),o.singleQuotes===!1?(s=s.replace(/"/g,'\\"'),`"${s}"`):(s=s.replace(/\\?'/g,"\\'"),`'${s}'`)}(e,t,r)};var Or=Iw;const le=R(Te()),Ns=R(er()),Fs="@@__DIM_POINTER__@@";function Un({ast:e,keyPaths:t,valuePaths:r,missingItems:n}){let i=e;for(const{path:s,type:o}of n)i=$n(i,s,o);return Or(i,{indent:"  ",transformLine:({indent:s,key:o,value:a,stringifiedValue:l,eol:d,path:u})=>{const c=u.join("."),f=t.includes(c),h=r.includes(c),m=n.find(g=>g.path===c);let b=l;if(m){typeof a=="string"&&(b=b.slice(1,b.length-1));const g=m.isRequired?"":"?",w=m.isRequired?"+":"?",M=m.isRequired?le.default.greenBright:le.default.green;let y=M(kw(o+g+": "+b+d,s,w));return m.isRequired||(y=le.default.dim(y)),y}else{const g=n.some(v=>c.startsWith(v.path)),w=o[o.length-2]==="?";w&&(o=o.slice(1,o.length-1)),w&&typeof a=="object"&&a!==null&&(b=b.split(`
`).map((v,A,k)=>A===k.length-1?v+Fs:v).join(`
`)),g&&typeof a=="string"&&(b=b.slice(1,b.length-1),w||(b=le.default.bold(b))),(typeof a!="object"||a===null)&&!h&&!g&&(b=le.default.dim(b));const M=f?le.default.redBright(o):o;b=h?le.default.redBright(b):b;let y=s+M+": "+b+(g?d:le.default.dim(d));if(f||h){const v=y.split(`
`),A=String(o).length,k=f?le.default.redBright("~".repeat(A)):" ".repeat(A),Q=h?_w(s,o,a,l):0,K=Boolean(h&&typeof a=="object"&&a!==null),S=h?"  "+le.default.redBright("~".repeat(Q)):"";k&&k.length>0&&!K&&v.splice(1,0,s+k+S),k&&k.length>0&&K&&v.splice(v.length-1,0,s.slice(0,s.length-2)+S),y=v.join(`
`)}return y}}})}function _w(e,t,r,n){return r===null?4:typeof r=="string"?r.length+2:typeof r=="object"?Rw(`${t}: ${Ns.default(n)}`)-e.length:String(r).length}function Rw(e){return e.split(`
`).reduce((t,r)=>r.length>t?r.length:t,0)}function kw(e,t,r){return e.split(`
`).map((n,i,s)=>i===0?r+t.slice(1)+n:i<s.length-1?r+n.slice(1):n).map(n=>Ns.default(n).includes(Fs)?le.default.dim(n.replace(Fs,"")):n.includes("?")?le.default.dim(n):n).join(`
`)}const Ke=R(Te()),Lw=Ke.default.rgb(246,145,95),Pw=Ke.default.rgb(107,139,140),Gn=Ke.default.cyan,Td=Ke.default.rgb(127,155,155),Ad=e=>e,Cd={keyword:Gn,entity:Gn,value:Td,punctuation:Pw,directive:Gn,function:Gn,variable:Td,string:Ke.default.greenBright,boolean:Lw,number:Ke.default.cyan,comment:Ke.default.grey};var zn={},Nw=0,D={manual:zn.Prism&&zn.Prism.manual,disableWorkerMessageHandler:zn.Prism&&zn.Prism.disableWorkerMessageHandler,util:{encode:function(e){if(e instanceof Ee){const t=e;return new Ee(t.type,D.util.encode(t.content),t.alias)}else return Array.isArray(e)?e.map(D.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++Nw}),e.__id},clone:function e(t,r){var n,i,s=D.util.type(t);r=r||{};switch(s){case"Object":if(i=D.util.objId(t),r[i])return r[i];n={},r[i]=n;for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],r));return n;case"Array":return i=D.util.objId(t),r[i]?r[i]:(n=[],r[i]=n,t.forEach(function(a,l){n[l]=e(a,r)}),n);default:return t}}},languages:{extend:function(e,t){var r=D.util.clone(D.languages[e]);for(var n in t)r[n]=t[n];return r},insertBefore:function(e,t,r,n){n=n||D.languages;var i=n[e],s={};for(var o in i)if(i.hasOwnProperty(o)){if(o==t)for(var a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);r.hasOwnProperty(o)||(s[o]=i[o])}var l=n[e];return n[e]=s,D.languages.DFS(D.languages,function(d,u){u===l&&d!=e&&(this[d]=s)}),s},DFS:function e(t,r,n,i){i=i||{};var s=D.util.objId;for(var o in t)if(t.hasOwnProperty(o)){r.call(t,o,t[o],n||o);var a=t[o],l=D.util.type(a);l==="Object"&&!i[s(a)]?(i[s(a)]=!0,e(a,r,null,i)):l==="Array"&&!i[s(a)]&&(i[s(a)]=!0,e(a,r,o,i))}}},plugins:{},highlight:function(e,t,r){var n={code:e,grammar:t,language:r};return D.hooks.run("before-tokenize",n),n.tokens=D.tokenize(n.code,n.grammar),D.hooks.run("after-tokenize",n),Ee.stringify(D.util.encode(n.tokens),n.language)},matchGrammar:function(e,t,r,n,i,s,o){for(var a in r){if(!r.hasOwnProperty(a)||!r[a])continue;if(a==o)return;var l=r[a];l=D.util.type(l)==="Array"?l:[l];for(var d=0;d<l.length;++d){var u=l[d],c=u.inside,f=!!u.lookbehind,h=!!u.greedy,m=0,b=u.alias;if(h&&!u.pattern.global){var g=u.pattern.toString().match(/[imuy]*$/)[0];u.pattern=RegExp(u.pattern.source,g+"g")}u=u.pattern||u;for(var w=n,M=i;w<t.length;M+=t[w].length,++w){var y=t[w];if(t.length>e.length)return;if(y instanceof Ee)continue;if(h&&w!=t.length-1){u.lastIndex=M;var S=u.exec(e);if(!S)break;for(var K=S.index+(f?S[1].length:0),fe=S.index+S[0].length,v=w,A=M,k=t.length;v<k&&(A<fe||!t[v].type&&!t[v-1].greedy);++v)A+=t[v].length,K>=A&&(++w,M=A);if(t[w]instanceof Ee)continue;Q=v-w,y=e.slice(M,A),S.index-=M}else{u.lastIndex=0;var S=u.exec(y),Q=1}if(!S){if(s)break;continue}f&&(m=S[1]?S[1].length:0);var K=S.index+m,S=S[0].slice(m),fe=K+S.length,P=y.slice(0,K),L=y.slice(fe),ne=[w,Q];P&&(++w,M+=P.length,ne.push(P));var Ne=new Ee(a,c?D.tokenize(S,c):S,b,S,h);if(ne.push(Ne),L&&ne.push(L),Array.prototype.splice.apply(t,ne),Q!=1&&D.matchGrammar(e,t,r,w,M,!0,a),s)break}}}},tokenize:function(e,t){var r=[e],n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}return D.matchGrammar(e,r,t,0,0,!1),r},hooks:{all:{},add:function(e,t){var r=D.hooks.all;r[e]=r[e]||[],r[e].push(t)},run:function(e,t){var r=D.hooks.all[e];if(!r||!r.length)return;for(var n=0,i;i=r[n++];)i(t)}},Token:Ee};D.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};D.languages.javascript=D.languages.extend("clike",{"class-name":[D.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});D.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/;D.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:D.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:D.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:D.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:D.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});D.languages.markup&&D.languages.markup.tag.addInlined("script","javascript");D.languages.js=D.languages.javascript;D.languages.typescript=D.languages.extend("javascript",{keyword:/\b(?:abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|is|keyof|let|module|namespace|new|null|of|package|private|protected|public|readonly|return|require|set|static|super|switch|this|throw|try|type|typeof|var|void|while|with|yield)\b/,builtin:/\b(?:string|Function|any|number|boolean|Array|symbol|console|Promise|unknown|never)\b/});D.languages.ts=D.languages.typescript;function Ee(e,t,r,n,i){this.type=e,this.content=t,this.alias=r,this.length=(n||"").length|0,this.greedy=!!i}Ee.stringify=function(e,t){return typeof e=="string"?e:Array.isArray(e)?e.map(function(r){return Ee.stringify(r,t)}).join(""):Fw(e.type)(e.content)};function Fw(e){return Cd[e]||Ad}function Dd(e){return jw(e,D.languages.javascript)}function jw(e,t){const r=D.tokenize(e,t);return r.map(n=>Ee.stringify(n)).join("")}const xd=R(Ga());function Sd(e){return xd.default(e)}const ue=R(Te()),Od=R(qa());function qw(e,t){const r=String(t).length,n=String(e).length;return n>=r?String(e):" ".repeat(r-n)+e}const Hn=({callsite:e,originalMethod:t,onUs:r,showColors:n,renderPathRelative:i,printFullStack:s,isValidationError:o})=>{const a=20;let l=":",d=`
`,u="",c=0,f=`prisma.${t}()`;if(e&&typeof window=="undefined"){const g=Od.parse(e),w=g.find((M,y)=>y<3&&M.methodName.includes("Object.")?!1:M.file&&!M.file.includes("@prisma")&&!M.file.includes("getPrismaClient")&&!M.methodName.includes("new ")&&!M.methodName.includes("_getCallsite")&&M.methodName.split(".").length<4);if(process.env.NODE_ENV!=="production"&&w&&w.file&&w.lineNumber&&w.column&&!w.file.startsWith("internal/")){const M=w.lineNumber,y=i?require("path").relative(process.cwd(),w.file):w.file;l=e?` in
${ue.default.underline(`${y}:${w.lineNumber}:${w.column}`)}`:"";const v=process.stdout.rows||20,A=Math.max(0,M-5),k=a+M-A;if(v>k||s){const Q=require("fs"),K=Q.existsSync(w.file);if(K){const S=Q.readFileSync(w.file,"utf-8"),fe=S.split(`
`).slice(A,M).join(`
`),P=Sd(fe).split(`
`),L=P[P.length-1];if(!L||L.trim()==="")l=":";else{const ne=/(\S+(create|updateMany|deleteMany|update|delete|findMany|findOne)\()/,Ne=L.match(ne);Ne&&(f=`${Ne[1]})`);const kr=L.indexOf("{"),ft=P.map((Fe,Yt,Xn)=>!r&&Yt===Xn.length-1?Fe.slice(0,kr>-1?kr:Fe.length-1):Fe).join(`
`),Kn=n?Dd(ft).split(`
`):ft.split(`
`);d=`
`+Kn.map((Fe,Yt)=>ue.default.grey(qw(Yt+A+1,M+A+1)+" ")+ue.default.reset()+Fe).map((Fe,Yt,Xn)=>Yt===Xn.length-1?`${ue.default.red.bold("→")} ${ue.default.dim(Fe)}`:ue.default.dim("  "+Fe)).join(`
`),!Ne&&!o&&(d+=`

`),u=")",c=String(M+A+1).length+h(L)+1+(Ne?2:0)}}}}}function h(g){let w=0;for(let M=0;M<g.length;M++){if(g.charAt(M)!==" ")return w;w++}return w}const m=r?ue.default.red(`Oops, an unknown error occured! This is ${ue.default.bold("on us")}, you did nothing wrong.
It occured in the ${ue.default.bold(`\`${f}\``)} invocation${l}`):ue.default.red(`Invalid ${ue.default.bold(`\`${f}\``)} invocation${l}`),b=`
${m}
${d}${ue.default.reset()}`;return{indent:c,stack:b,afterLines:u,lastErrorHeight:a}};function $w(e){return Array.prototype.concat.apply([],e)}function js(e,t,r){return $w(e.map(t,r))}const E=R(Te()),Xe=R(Vr()),qs=R(er()),Ir=2;class Uw{constructor(e,t){this.type=e;this.children=t;this.printFieldError=({error:e,path:t},r,n)=>{if(e.type==="emptySelect"){const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(ct(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="emptyInclude"){if(r.length===0)return`${E.default.bold(ct(e.field.outputType.type))} does not have any relation and therefore can't have an ${E.default.redBright("`include`")} statement.`;const i=n?"":` Available options are listed in ${E.default.greenBright.dim("green")}.`;return`The ${E.default.redBright("`include`")} statement for type ${E.default.bold(ct(e.field.outputType.type))} must not be empty.${i}`}if(e.type==="noTrueSelect")return`The ${E.default.redBright("`select`")} statement for type ${E.default.bold(ct(e.field.outputType.type))} needs ${E.default.bold("at least one truthy value")}.`;if(e.type==="includeAndSelect")return`Please ${E.default.bold("either")} use ${E.default.greenBright("`include`")} or ${E.default.greenBright("`select`")}, but ${E.default.redBright("not both")} at the same time.`;if(e.type==="invalidFieldName"){const i=e.isInclude?"include":"select",s=e.isIncludeScalar?"Invalid scalar":"Unknown",o=n?"":e.isInclude&&r.length===0?`
This model has no relations, so you can't use ${E.default.redBright("include")} with it.`:` Available options are listed in ${E.default.greenBright.dim("green")}.`;let a=`${s} field ${E.default.redBright(`\`${e.providedName}\``)} for ${E.default.bold(i)} statement on model ${E.default.bold.white(e.modelName)}.${o}`;return e.didYouMean&&(a+=` Did you mean ${E.default.greenBright(`\`${e.didYouMean}\``)}?`),e.isIncludeScalar&&(a+=`
Note, that ${E.default.bold("include")} statements only accept relation fields.`),a}if(e.type==="invalidFieldType"){const i=`Invalid value ${E.default.redBright(`${Or(e.providedValue)}`)} of type ${E.default.redBright(Wt(e.providedValue,void 0))} for field ${E.default.bold(`${e.fieldName}`)} on model ${E.default.bold.white(e.modelName)}. Expected either ${E.default.greenBright("true")} or ${E.default.greenBright("false")}.`;return i}};this.printArgError=({error:e,path:t},r,n)=>{if(e.type==="invalidName"){let i=`Unknown arg ${E.default.redBright(`\`${e.providedName}\``)} in ${E.default.bold(t.join("."))} for type ${E.default.bold(e.outputType?e.outputType.name:xr(e.originalType))}.`;return e.didYouMeanField?i+=`
→ Did you forget to wrap it with \`${E.default.greenBright("select")}\`? ${E.default.dim("e.g. "+E.default.greenBright(`{ select: { ${e.providedName}: ${e.providedValue} } }`))}`:e.didYouMeanArg?(i+=` Did you mean \`${E.default.greenBright(e.didYouMeanArg)}\`?`,!r&&!n&&(i+=` ${E.default.dim("Available args:")}
`+Vt(e.originalType,!0))):e.originalType.fields.length===0?i+=` The field ${E.default.bold(e.originalType.name)} has no arguments.`:!r&&!n&&(i+=` Available args:

`+Vt(e.originalType,!0)),i}if(e.type==="invalidType"){let i=Or(e.providedValue,{indent:"  "});const s=i.split(`
`).length>1;if(s&&(i=`
${i}
`),e.requiredType.bestFittingType.kind==="enum")return`Argument ${E.default.bold(e.argName)}: Provided value ${E.default.redBright(i)}${s?"":" "}of type ${E.default.redBright(Wt(e.providedValue))} on ${E.default.bold(`prisma.${this.children[0].name}`)} is not a ${E.default.greenBright(Dr(Ht(e.requiredType.bestFittingType.kind),e.requiredType.bestFittingType.isList))}.
→ Possible values: ${e.requiredType.bestFittingType.type.values.map(d=>E.default.greenBright(`${Ht(e.requiredType.bestFittingType.type)}.${d}`)).join(", ")}`;let o=".";Wn(e.requiredType.bestFittingType.type)&&(o=`:
`+Vt(e.requiredType.bestFittingType.type));let a=`${e.requiredType.inputType.map(d=>E.default.greenBright(Dr(Ht(d.type),e.requiredType.bestFittingType.isList))).join(" or ")}${o}`;const l=e.requiredType.inputType.length===2&&e.requiredType.inputType.find(d=>Wn(d.type))||null;return l&&(a+=`
`+Vt(l.type,!0)),`Argument ${E.default.bold(e.argName)}: Got invalid value ${E.default.redBright(i)}${s?"":" "}on ${E.default.bold(`prisma.${this.children[0].name}`)}. Provided ${E.default.redBright(Wt(e.providedValue))}, expected ${a}`}if(e.type==="invalidNullArg"){const i=t.length===1&&t[0]===e.name?"":` for ${E.default.bold(`${t.join(".")}`)}`,s=` Please use ${E.default.bold.greenBright("undefined")} instead.`;return`Argument ${E.default.greenBright(e.name)}${i} must not be ${E.default.bold("null")}.${s}`}if(e.type==="missingArg"){const i=t.length===1&&t[0]===e.missingName?"":` for ${E.default.bold(`${t.join(".")}`)}`;return`Argument ${E.default.greenBright(e.missingName)}${i} is missing.`}if(e.type==="atLeastOne"){const i=n?"":` Available args are listed in ${E.default.dim.green("green")}.`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("at least one")} argument.${i}`}if(e.type==="atMostOne"){const i=n?"":` Please choose one. ${E.default.dim("Available args:")} 
${Vt(e.inputType,!0)}`;return`Argument ${E.default.bold(t.join("."))} of type ${E.default.bold(e.inputType.name)} needs ${E.default.greenBright("exactly one")} argument, but you provided ${e.providedKeys.map(s=>E.default.redBright(s)).join(" and ")}.${i}`}};this.type=e,this.children=t}toString(){return`${this.type} {
${Xe.default(this.children.map(String).join(`
`),Ir)}
}`}validate(e,t=!1,r,n,i){e||(e={});const s=this.children.filter(g=>g.hasInvalidChild||g.hasInvalidArg);if(s.length===0)return;const o=[],a=[],l=e&&e.select?"select":e.include?"include":void 0;for(const g of s){const w=g.collectErrors(l);o.push(...w.fieldErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)}))),a.push(...w.argErrors.map(M=>({...M,path:t?M.path:M.path.slice(1)})))}const d=this.children[0].name,u=t?this.type:d,c=[],f=[],h=[];for(const g of o){const w=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidFieldName"){c.push(w);const M=g.error.outputType,{isInclude:y}=g.error;M.fields.filter(v=>y?v.outputType.kind==="object":!0).forEach(v=>{const A=w.split(".");h.push({path:`${A.slice(0,A.length-1).join(".")}.${v.name}`,type:"true",isRequired:!1})})}else g.error.type==="includeAndSelect"?(c.push("select"),c.push("include")):f.push(w);if(g.error.type==="emptySelect"||g.error.type==="noTrueSelect"||g.error.type==="emptyInclude"){const M=this.normalizePath(g.path,e),y=M.slice(0,M.length-1).join("."),v=g.error.field.outputType.type;v.fields.filter(A=>g.error.type==="emptyInclude"?A.outputType.kind==="object":!0).forEach(A=>{h.push({path:`${y}.${A.name}`,type:"true",isRequired:!1})})}}for(const g of a){const w=this.normalizePath(g.path,e).join(".");if(g.error.type==="invalidName")c.push(w);else if(g.error.type!=="missingArg"&&g.error.type!=="atLeastOne")f.push(w);else if(g.error.type==="missingArg"){const M=g.error.missingArg.inputTypes.length===1?g.error.missingArg.inputTypes[0].type:g.error.missingArg.inputTypes.map(y=>{const v=xr(y.type);return v==="Null"?"null":y.isList?v+"[]":v}).join(" | ");h.push({path:w,type:Rs(M,!0,w.split("where.").length===2),isRequired:g.error.missingArg.isRequired})}}const m=g=>{const w=a.some(P=>P.error.type==="missingArg"&&P.error.missingArg.isRequired),M=Boolean(a.find(P=>P.error.type==="missingArg"&&!P.error.missingArg.isRequired)),y=M||w;let v="";w&&(v+=`
${E.default.dim("Note: Lines with ")}${E.default.reset.greenBright("+")} ${E.default.dim("are required")}`),M&&(v.length===0&&(v=`
`),w?v+=E.default.dim(`, lines with ${E.default.green("?")} are optional`):v+=E.default.dim(`Note: Lines with ${E.default.green("?")} are optional`),v+=E.default.dim("."));const A=`${a.filter(P=>P.error.type!=="missingArg"||P.error.missingArg.isRequired).map(P=>this.printArgError(P,y,n==="minimal")).join(`
`)}
${o.map(P=>this.printFieldError(P,h,n==="minimal")).join(`
`)}`;if(n==="minimal")return qs.default(A);const{stack:k,indent:Q,afterLines:K}=Hn({callsite:g,originalMethod:r||u,showColors:n&&n==="pretty",isValidationError:!0});let S={ast:t?{[d]:e}:e,keyPaths:c,valuePaths:f,missingItems:h};(r==null?void 0:r.endsWith("aggregate"))&&(S=Bw(S));const fe=`${k}${Xe.default(Un(S),Q).slice(Q)}${E.default.dim(K)}

${A}${v}
`;return process.env.NO_COLOR||n==="colorless"?qs.default(fe):fe},b=new jn(m(i));throw process.env.NODE_ENV!=="production"&&Object.defineProperty(b,"render",{get:()=>m,enumerable:!1}),b}normalizePath(e,t){const r=e.slice(),n=[];let i,s=t;for(;(i=r.shift())!==void 0;){if(!Array.isArray(s)&&i===0)continue;i==="select"?s[i]?s=s[i]:s=s.include:s&&s[i]&&(s=s[i]),n.push(i)}return n}}class jn extends Error{}class ce{constructor({name:e,args:t,children:r,error:n,schemaField:i}){this.name=e,this.args=t,this.children=r,this.error=n,this.schemaField=i,this.hasInvalidChild=r?r.some(s=>Boolean(s.error||s.hasInvalidArg||s.hasInvalidChild)):!1,this.hasInvalidArg=t?t.hasInvalidArg:!1}toString(){let e=this.name;return this.error?e+" # INVALID_FIELD":(this.args&&this.args.args&&this.args.args.length>0&&(this.args.args.length===1?e+=`(${this.args.toString()})`:e+=`(
${Xe.default(this.args.toString(),Ir)}
)`),this.children&&(e+=` {
${Xe.default(this.children.map(String).join(`
`),Ir)}
}`),e)}collectErrors(e="select"){const t=[],r=[];if(this.error&&t.push({path:[this.name],error:this.error}),this.children)for(const n of this.children){const i=n.collectErrors(e);t.push(...i.fieldErrors.map(s=>({...s,path:[this.name,e,...s.path]}))),r.push(...i.argErrors.map(s=>({...s,path:[this.name,e,...s.path]})))}return this.args&&r.push(...this.args.collectErrors().map(n=>({...n,path:[this.name,...n.path]}))),{fieldErrors:t,argErrors:r}}}class de{constructor(e=[]){this.args=e,this.hasInvalidArg=e?e.some(t=>Boolean(t.hasError)):!1}toString(){return this.args.length===0?"":`${this.args.map(e=>e.toString()).filter(e=>e).join(`
`)}`}collectErrors(){return this.hasInvalidArg?js(this.args,e=>e.collectErrors()):[]}}function Vn(e,t,r,n,i){return i?e&&e.values&&e.__prismaRawParamaters__?JSON.stringify(e.values):JSON.stringify(JSON.stringify(e)):e===void 0?null:e===null?"null":n&&typeof e=="string"?e:n&&Array.isArray(e)?`[${e.join(", ")}]`:JSON.stringify(e,t,r)}class Le{constructor({key:e,value:t,argType:r,isEnum:n=!1,error:i,schemaArg:s}){this.key=e,this.value=t,this.argType=r,this.isEnum=n,this.error=i,this.schemaArg=s,this.isNullable=(s==null?void 0:s.inputTypes.reduce((o,a)=>o&&s.isNullable,!0))||!1,this.hasError=Boolean(i)||(t instanceof de?t.hasInvalidArg:!1)||Array.isArray(t)&&t.some(o=>o instanceof de?o.hasInvalidArg:!1)}_toString(e,t){var r;if(typeof e=="undefined")return;if(e instanceof de)return e.args.length===1&&e.args[0].key==="set"&&((r=e.args[0].schemaArg)==null?void 0:r.inputTypes[0].type)==="Json"?`${t}: {
  set: ${Vn(e.args[0].value,null,2,this.isEnum,!0)}
}`:`${t}: {
${Xe.default(e.toString(),2)}
}`;if(Array.isArray(e)){if(this.argType==="Json")return`${t}: ${Vn(e,null,2,this.isEnum,this.argType==="Json")}`;const n=!e.some(i=>typeof i=="object");return`${t}: [${n?"":`
`}${Xe.default(e.map(i=>i instanceof de?`{
${Xe.default(i.toString(),Ir)}
}`:Vn(i,null,2,this.isEnum)).join(`,${n?" ":`
`}`),n?0:Ir)}${n?"":`
`}]`}return`${t}: ${Vn(e,null,2,this.isEnum,this.argType==="Json")}`}toString(){return this._toString(this.value,this.key)}collectErrors(){if(!this.hasError)return[];const e=[];return this.error&&e.push({error:this.error,path:[this.key]}),Array.isArray(this.value)&&e.push(...js(this.value,(t,r)=>t.collectErrors?t.collectErrors().map(n=>({...n,path:[this.key,r,...n.path]})):[])),this.value instanceof de&&e.push(...this.value.collectErrors().map(t=>({...t,path:[this.key,...t.path]}))),e}}function Tr({dmmf:e,rootTypeName:t,rootField:r,select:n}){n||(n={});const i=t==="query"?e.queryType:e.mutationType,s={args:[],outputType:{isList:!1,type:i,kind:"object"},isRequired:!0,name:t},o=Id(e,{[r]:n},s,[t]);return new Uw(t,o)}function Ar(e){return e}function Id(e,t,r,n){const i=r.outputType.type;return Object.entries(t).reduce((s,[o,a])=>{const l=i.fieldMap?i.fieldMap[o]:i.fields.find(g=>g.name===o);if(!l)return s.push(new ce({name:o,children:[],error:{type:"invalidFieldName",modelName:i.name,providedName:o,didYouMean:qn(o,i.fields.map(g=>g.name)),outputType:i}})),s;if(typeof a!="boolean"&&l.outputType.kind==="scalar"&&l.name!=="executeRaw"&&l.name!=="queryRaw"&&i.name!=="Query"&&!o.startsWith("aggregate")&&l.name!=="count")return s.push(new ce({name:o,children:[],error:{type:"invalidFieldType",modelName:i.name,fieldName:o,providedValue:a}})),s;if(a===!1)return s;const d={name:l.name,fields:l.args,constraints:{minNumFields:null,maxNumFields:null}},u=typeof a=="object"?Bn(a,["include","select"]):void 0,c=u?Yn(u,d,[],typeof l=="string"?void 0:l.outputType.type):void 0,f=l.outputType.kind==="object";if(a){if(a.select&&a.include)s.push(new ce({name:o,children:[new ce({name:"include",args:new de,error:{type:"includeAndSelect",field:l}})]}));else if(a.include){const g=Object.keys(a.include);if(g.length===0)return s.push(new ce({name:o,children:[new ce({name:"include",args:new de,error:{type:"emptyInclude",field:l}})]})),s;if(l.outputType.kind==="object"){const w=l.outputType.type,M=w.fields.filter(v=>v.outputType.kind==="object").map(v=>v.name),y=g.filter(v=>!M.includes(v));if(y.length>0)return s.push(...y.map(v=>new ce({name:v,children:[new ce({name:v,args:new de,error:{type:"invalidFieldName",modelName:w.name,outputType:w,providedName:v,didYouMean:qn(v,M)||void 0,isInclude:!0,isIncludeScalar:w.fields.some(A=>A.name===v)}})]}))),s}}else if(a.select){const g=Object.values(a.select);if(g.length===0)return s.push(new ce({name:o,children:[new ce({name:"select",args:new de,error:{type:"emptySelect",field:l}})]})),s;const w=g.filter(M=>M);if(w.length===0)return s.push(new ce({name:o,children:[new ce({name:"select",args:new de,error:{type:"noTrueSelect",field:l}})]})),s}}const h=f?_d(l.outputType.type):null;let m=h;a&&(a.select?m=a.select:a.include&&(m=Sr(h,a.include)));const b=m!==!1&&f?Id(e,m,l,[...n,o]):void 0;return s.push(new ce({name:o,args:c,children:b,schemaField:l})),s},[])}function _d(e){return e.fields.reduce((t,r)=>(r.outputType.kind==="scalar"||r.outputType.kind==="enum"?t[r.name]=!0:r.outputType.type.isEmbedded&&(t[r.name]={select:_d(r.outputType.type)}),t),{})}function $s(e,t,r,n){const i=new Le({key:e,value:t,isEnum:n.kind==="enum",argType:n.type,error:{type:"invalidType",providedValue:t,argName:e,requiredType:{inputType:r.inputTypes,bestFittingType:n}}});return i}function Gw(e,t,r){const{type:n,isList:i}=r,s=Dr(Ht(n),i),o=Wt(e,n);return i&&o==="List<>"||(s==="Json"||(o==="DateTime"&&s==="String"||(o==="List<DateTime>"&&s==="List<String>"||(o==="UUID"&&s==="String"||(o==="List<UUID>"&&s==="List<String>"||(o==="String"&&s==="ID"||(o==="List<String>"&&s==="List<ID>"||(s==="List<String>"&&(o==="List<String | UUID>"||o==="List<UUID | String>")||(o==="Int"&&s==="Float"||(o==="List<Int>"&&s==="List<Float>"||(o==="Int"&&s==="Long"||(o==="List<Int>"&&s==="List<Long>"||o===s))))))))))))?!0:!t.isRequired&&e===null}const Jn=e=>Ed(e,(t,r)=>r!==void 0);function Hw(e,t,r){let n=null;for(const i of r.inputTypes)if(n=zw(e,t,r,i),(n==null?void 0:n.collectErrors().length)===0)return n;return n}function zw(e,t,r,n){if(typeof t=="undefined")return r.isRequired?new Le({key:e,value:t,isEnum:n.kind==="enum",error:{type:"missingArg",missingName:e,missingArg:r,atLeastOne:!1,atMostOne:!1}}):null;const{isNullable:i,isRequired:s}=r;if(t===null&&!i&&!s){const d=Wn(n.type)?n.type.constraints.minNumFields!==null&&n.type.constraints.minNumFields>0:!1;if(!d)return new Le({key:e,value:t,isEnum:n.kind==="enum",error:{type:"invalidNullArg",name:e,invalidType:r.inputTypes,atLeastOne:!1,atMostOne:!1}})}if(!n.isList)if(Wn(n.type)){if(typeof t!="object")return $s(e,t,r,n);{let d=Jn(t),u;const c=Object.keys(d||{}),f=c.length;return f===0&&typeof n.type.constraints.minNumFields=="number"&&n.type.constraints.minNumFields>0?u={type:"atLeastOne",key:e,inputType:n.type}:f>1&&typeof n.type.constraints.maxNumFields=="number"&&n.type.constraints.maxNumFields<2&&(u={type:"atMostOne",key:e,inputType:n.type,providedKeys:c}),new Le({key:e,value:d===null?null:Yn(d,n.type,r.inputTypes),isEnum:n.kind==="enum",error:u,argType:n.type,schemaArg:r})}}else return kd(e,t,r,n);if(!Array.isArray(t)&&n.isList&&(e!=="updateMany"&&(t=[t])),n.kind==="enum"||n.kind==="scalar")return kd(e,t,r,n);const o=n.type,a=typeof o.constraints.minNumFields=="number"&&o.constraints.minNumFields>0?Array.isArray(t)&&t.some(d=>!d||Object.keys(Jn(d)).length===0):!1;let l=a?{inputType:o,key:e,type:"atLeastOne"}:void 0;if(!l){const d=typeof o.constraints.maxNumFields=="number"&&o.constraints.maxNumFields<2?Array.isArray(t)&&t.find(u=>!u||Object.keys(Jn(u)).length!==1):!1;d&&(l={inputType:o,key:e,type:"atMostOne",providedKeys:Object.keys(d)})}if(!Array.isArray(t))for(const d of r.inputTypes){const u=Yn(t,d.type);if(u.collectErrors().length===0)return new Le({key:e,value:u,isEnum:!1,argType:d.type,schemaArg:r})}return new Le({key:e,value:t.map(d=>n.isList&&typeof d!="object"?d:typeof d!="object"||!t?$s(e,d,r,n):Yn(d,o)),isEnum:!1,argType:o,schemaArg:r,error:l})}function Wn(e){return typeof e=="string"?!1:!e.hasOwnProperty("values")}function kd(e,t,r,n){return Gw(t,r,n)?new Le({key:e,value:t,isEnum:r.inputTypes[0].kind==="enum",argType:n.type,schemaArg:r}):$s(e,t,r,n)}function Yn(e,t,r,n){const i=Jn(e),{fields:s,fieldMap:o}=t,a=s.map(c=>[c.name,void 0]),l=Object.entries(i||{}),d=gd(l,a,c=>c[0]),u=d.reduce((c,[f,h])=>{const m=o?o[f]:s.find(g=>g.name===f);if(!m){const g=typeof h=="boolean"&&n&&n.fields.some(w=>w.name===f)?f:null;return c.push(new Le({key:f,value:h,error:{type:"invalidName",providedName:f,providedValue:h,didYouMeanField:g,didYouMeanArg:!g&&qn(f,[...s.map(w=>w.name),"select"])||void 0,originalType:t,possibilities:r,outputType:n}})),c}const b=Hw(f,h,m);return b&&c.push(b),c},[]);if(typeof t.constraints.minNumFields=="number"&&l.length<t.constraints.minNumFields||u.find(c=>{var f,h;return((f=c.error)==null?void 0:f.type)==="missingArg"||((h=c.error)==null?void 0:h.type)==="atLeastOne"})){const c=t.fields.filter(f=>!f.isRequired&&i&&(typeof i[f.name]=="undefined"||i[f.name]===null));u.push(...c.map(f=>{const h=f.inputTypes[0];return new Le({key:f.name,value:void 0,isEnum:h.kind==="enum",error:{type:"missingArg",missingName:f.name,missingArg:f,atLeastOne:Boolean(t.constraints.minNumFields)||!1,atMostOne:t.constraints.maxNumFields===1||!1}})}))}return new de(u)}function Cr({document:e,path:t,data:r}){const n=Ps(r,t);if(n==="undefined")return null;if(typeof n!="object")return n;const i=Ww(e,t),s=Bs({field:i,data:n});return Us({field:i,data:s})}function Bs({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="DateTime")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?new Date(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?new Date(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Bs({field:r,data:n[r.name]});else Bs({field:r,data:t[r.name]})}return t}function Us({field:e,data:t}){if(!t||typeof t!="object"||!e.children||!e.schemaField)return t;for(const r of e.children){if(r.schemaField&&r.schemaField.outputType.type==="Json")if(Array.isArray(t))for(const n of t)typeof n[r.name]!="undefined"&&(n[r.name]=n[r.name]?JSON.parse(n[r.name]):n[r.name]);else typeof t[r.name]!="undefined"&&(t[r.name]=t[r.name]?JSON.parse(t[r.name]):t[r.name]);if(r.schemaField&&r.schemaField.outputType.kind==="object")if(Array.isArray(t))for(const n of t)Us({field:r,data:n[r.name]});else Us({field:r,data:t[r.name]})}return t}function Ww(e,t){const r=t.slice(),n=r.shift();let i=e.children.find(s=>s.name===n);if(!i)throw new Error(`Could not find field ${n} in document ${e}`);for(;r.length>0;){const s=r.shift();if(!i.children)throw new Error(`Can't get children for field ${i} with child ${s}`);const o=i.children.find(a=>a.name===s);if(!o)throw new Error(`Can't find child ${s} of field ${i}`);i=o}return i}function Gs(e){return e.split(".").filter(t=>t!=="select").join(".")}function zs(e){const t=Object.prototype.toString.call(e);if(t==="[object Object]"){const r={};for(const n in e)if(n==="select")for(const i in e.select)r[i]=zs(e.select[i]);else r[n]=zs(e[n]);return r}return e}function Bw({ast:e,keyPaths:t,missingItems:r,valuePaths:n}){const i=t.map(Gs),s=n.map(Gs),o=r.map(l=>({path:Gs(l.path),isRequired:l.isRequired,type:l.type})),a=zs(e);return{ast:a,keyPaths:i,missingItems:o,valuePaths:s}}function Rd(e){return typeof e=="string"?e:e.reduce((t,r)=>{const n=typeof r=="string"?r:r.level;return n==="query"?t:t&&(r==="info"||t==="info")?"info":n},void 0)}function Pd(e,t,r){const n=Ld(e,r),i=Ld(t,r),s=Object.values(i).map(a=>a[a.length-1]),o=Object.keys(i);return Object.entries(n).forEach(([a,l])=>{o.includes(a)||s.push(l[l.length-1])}),s}const Ld=(e,t)=>e.reduce((r,n)=>{const i=t(n);return r[i]||(r[i]=[]),r[i].push(n),r},{});class Nd{constructor(e){this.options=e;this.tickActive=!1;this.batches={}}request(e){const t=this.options.batchBy(e);return t?(this.batches[t]||(this.batches[t]=[],this.tickActive||(this.tickActive=!0,process.nextTick(()=>{this.dispatchBatches(),this.tickActive=!1}))),new Promise((r,n)=>{this.batches[t].push({request:e,resolve:r,reject:n})})):this.options.singleLoader(e)}dispatchBatches(){for(const e in this.batches){const t=this.batches[e];delete this.batches[e],t.length===1?this.options.singleLoader(t[0].request).then(r=>{r instanceof Error?t[0].reject(r):t[0].resolve(r)}).catch(r=>{t[0].reject(r)}):this.options.batchLoader(t.map(r=>r.request)).then(r=>{if(r instanceof Error)for(let n=0;n<t.length;n++)t[n].reject(r);else for(let n=0;n<t.length;n++){const i=r[n];i instanceof Error?t[n].reject(i):t[n].resolve(i)}}).catch(r=>{for(let n=0;n<t.length;n++)t[n].reject(r)})}}}function dt(e){return JSON.stringify(Hs(e))}function Hs(e){const t=Object.prototype.toString.call(e);if(t==="[object Date]")return{prisma__type:"date",prisma__value:e.toJSON()};if(t==="[object Object]"){const r={};for(let n in e)n!=="__proto__"&&(r[n]=Hs(e[n]));return r}if(t==="[object Array]"){let r=e.length,n;for(n=new Array(r);r--;)n[r]=Hs(e[r]);return n}return e}const _r=R(require("path")),we=R(_s()),Ws=R(Ds()),Qn=R(rr()),Vs=R(require("fs")),Pe=R(Te()),Ys=R(xs()),Fd=R(dd()),jd=R(fd()),qd=R(er()),$d=R(hd()),Bd=R(require("async_hooks")),be=Qn.default("prisma-client"),Vw={findOne:"query",findFirst:"query",findMany:"query",count:"query",create:"mutation",update:"mutation",updateMany:"mutation",upsert:"mutation",delete:"mutation",deleteMany:"mutation",executeRaw:"mutation",queryRaw:"mutation",aggregate:"query"},Yw={avg:!0,count:!0,sum:!0,min:!0,max:!0};function Is(e){class t{constructor(r){this._middlewares=[];this._engineMiddlewares=[];var m,b,g,w,M;const n=r!=null?r:{},i=(m=n.__internal)!=null?m:{},s=i.debug===!0;s&&Qn.default.enable("prisma-client"),i.hooks&&(this._hooks=i.hooks);let o=(b=e.sqliteDatasourceOverrides)!=null?b:[];o=o.map(y=>({name:y.name,url:"file:"+_r.default.resolve(e.dirname,y.url)}));const a=Object.entries(n.datasources||{}).filter(([y,v])=>v&&v.url).map(([y,{url:v}])=>({name:y,url:v})),l=Pd(o,a,y=>y.name),d=i.engine||{};n.errorFormat?this._errorFormat=n.errorFormat:process.env.NODE_ENV==="production"?this._errorFormat="minimal":process.env.NO_COLOR?this._errorFormat="colorless":this._errorFormat="colorless";const u=this.readEnv();this._dmmf=new Er(e.document);let c=_r.default.resolve(e.dirname,e.relativePath);Vs.default.existsSync(c)||(c=e.dirname);const f=(w=(g=e.generator)==null?void 0:g.previewFeatures)!=null?w:[];this._engineConfig={cwd:c,enableDebugLogs:s,enableEngineDebugMode:d.enableEngineDebugMode,datamodelPath:_r.default.join(e.dirname,"schema.prisma"),prismaPath:(M=d.binaryPath)!=null?M:void 0,engineEndpoint:d.endpoint,datasources:l,generator:e.generator,showColors:this._errorFormat==="pretty",logLevel:n.log&&Rd(n.log),logQueries:n.log&&Boolean(typeof n.log=="string"?n.log==="query":n.log.find(y=>typeof y=="string"?y==="query":y.level==="query")),env:u,flags:[],clientVersion:e.clientVersion,enableExperimental:$d.mapPreviewFeatures(f),useUds:i.useUds};const h=Bn(this._engineConfig,["env","datasources"]);if(be({engineConfig:h}),this._engine=new Ws.NodeEngine(this._engineConfig),this._fetcher=new Jw(this,!1,this._hooks),n.log)for(const y of n.log){const v=typeof y=="string"?y:y.emit==="stdout"?y.level:null;v&&this.$on(v,A=>{const k={query:"blue",info:"cyan",warn:"yellow",error:"red"};console.error(Pe.default[k[v]](`prisma:${v}`.padEnd(13))+(A.message||A.query))})}this._bootstrapClient()}readEnv(){const r=_r.default.resolve(e.dirname,e.relativePath,".env");return Vs.default.existsSync(r)?jd.dotenvExpand(Fd.default.config({path:r})).parsed:{}}use(...r){return console.warn(`${Pe.default.yellow("warn")} prisma.use() is deprecated, please use prisma.$use() instead`),this.$use(...r)}$use(r,n){if(typeof r=="function")this._middlewares.push(r);else if(typeof r=="string")if(r==="all")this._middlewares.push(n);else if(r==="engine")this._engineMiddlewares.push(n);else throw new Error(`Unknown middleware hook ${r}`);else throw new Error(`Invalid middleware ${r}`)}on(r,n){return console.warn(`${Pe.default.yellow("warn")} prisma.on() is deprecated, please use prisma.$on() instead`),this.$on(r,n)}$on(r,n){this._engine.on(r,i=>{const s=i.fields;r==="query"?n({timestamp:i.timestamp,query:s.query,params:s.params,duration:s.duration_ms,target:i.target}):n({timestamp:i.timestamp,message:s.message,target:i.target})})}connect(){return console.warn(`${Pe.default.yellow("warn")} prisma.connect() is deprecated, please use prisma.$connect() instead`),this.$connect()}async $connect(){return this._engine.start()}async _runDisconnect(){await this._engine.stop(),delete this._connectionPromise,this._engine=new Ws.NodeEngine(this._engineConfig),delete this._disconnectionPromise,delete this._getConfigPromise}disconnect(){return console.warn(`${Pe.default.yellow("warn")} prisma.disconnect() is deprecated, please use prisma.$disconnect() instead`),this.$disconnect()}async $disconnect(){return this._engine.stop()}async _getActiveProvider(){const r=await this._engine.getConfig();return r.datasources[0].activeProvider}executeRaw(r,...n){return console.warn(`${Pe.default.yellow("warn")} prisma.executeRaw() is deprecated, please use prisma.$executeRaw() instead`),this.$executeRaw(r,...n)}async $executeRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(be("Prisma Client call:"),Array.isArray(r)){const l=Ys.sqltag(r,...n);i=l[o],s={values:dt(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:dt(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:dt(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?be(`prisma.executeRaw(${i}, ${s.values})`):be(`prisma.executeRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"executeRaw",dataPath:[],action:"executeRaw",callsite:this._getCallsite(),runInTransaction:!1})}_getCallsite(){return this._errorFormat!=="minimal"?new Error().stack:void 0}queryRaw(r,...n){return console.warn(`${Pe.default.yellow("warn")} prisma.queryRaw() is deprecated, please use prisma.$queryRaw() instead`),this.$queryRaw(r,...n)}async $queryRaw(r,...n){let i="",s;const o=await this._getActiveProvider()==="postgresql"?"text":"sql";if(be("Prisma Client call:"),Array.isArray(r)){const l=Ys.sqltag(r,...n);i=l[o],s={values:dt(l.values),__prismaRawParamaters__:!0}}else typeof r=="string"?(i=r,n.length&&(s={values:dt(n),__prismaRawParamaters__:!0})):(i=r[o],s={values:dt(r.values),__prismaRawParamaters__:!0});(s==null?void 0:s.values)?be(`prisma.queryRaw(${i}, ${s.values})`):be(`prisma.queryRaw(${i})`);const a={query:i,parameters:s};return this._request({args:a,clientMethod:"queryRaw",dataPath:[],action:"queryRaw",callsite:this._getCallsite(),runInTransaction:!1})}async __internal_triggerPanic(r){if(!this._engineConfig.enableEngineDebugMode)throw new Error(`In order to use .__internal_triggerPanic(), please enable the debug mode like so:
new PrismaClient({
  __internal: {
    engine: {
      enableEngineDebugMode: true
    }
  }
})`);const n="SELECT 1",i=r?{"X-DEBUG-FATAL":"1"}:{"X-DEBUG-NON-FATAL":"1"};return this._request({action:"queryRaw",args:{query:n,parameters:void 0},clientMethod:"queryRaw",dataPath:[],runInTransaction:!1,headers:i,callsite:this._getCallsite()})}transaction(r){return console.warn(`${Pe.default.yellow("warn")} prisma.transaction() is deprecated, please use prisma.$transaction() instead`),this.$transaction(r)}async $transaction(r){var n,i;if((i=(n=e.generator)==null?void 0:n.previewFeatures)==null?void 0:i.includes("transactionApi")){for(const s of r)if(!s.requestTransaction||typeof s.requestTransaction!="function")throw new Error("All elements of the array need to be Prisma Client promises.");return Promise.all(r.map(s=>s.requestTransaction()))}else throw new Error(`In order to use the .transaction() api, please enable 'previewFeatures = "transactionApi" in your schema.`)}_request(r){const n=new Bd.AsyncResource("prisma-client-request");if(this._middlewares.length>0){const i={args:r.args,dataPath:r.dataPath,runInTransaction:r.runInTransaction,action:r.action,model:r.model};return n.runInAsyncScope(()=>this._requestWithMiddlewares(i,this._middlewares.slice(),r.clientMethod,r.callsite,r.headers))}return n.runInAsyncScope(()=>this._executeRequest(r))}_requestWithMiddlewares(r,n,i,s,o){const a=n.shift();return a?a(r,l=>this._requestWithMiddlewares(l,n,i,s)):(r.clientMethod=i,r.callsite=s,r.headers=o,this._executeRequest(r))}_executeRequest({args:r,clientMethod:n,dataPath:i,callsite:s,runInTransaction:o,action:a,model:l,headers:d}){if(a!=="executeRaw"&&a!=="queryRaw"&&!l)throw new Error(`Model missing for action ${a}`);if((a==="executeRaw"||a==="queryRaw")&&l)throw new Error(`executeRaw and queryRaw can't be executed on a model basis. The model ${l} has been provided`);let u;const c=Vw[a];(a==="executeRaw"||a==="queryRaw")&&(u=a);let f;if(l){if(f=this._dmmf.mappingsMap[l],!f)throw new Error(`Could not find mapping for model ${l}`);u=f[a]}if(c!=="query"&&c!=="mutation")throw new Error(`Invalid operation ${c} for action ${a}`);const h=this._dmmf.rootFieldMap[u];if(!h)throw new Error(`Could not find rootField ${u} for action ${a} for model ${l} on rootType ${c}`);const{isList:m}=h.outputType,b=ct(h.outputType.type);let g=Tr({dmmf:this._dmmf,rootField:u,rootTypeName:c,select:r});if(g.validate(r,!1,n,this._errorFormat,s),g=Ar(g),Qn.default.enabled("prisma-client")){const w=String(g);be("Prisma Client call:"),be(`prisma.${n}(${Un({ast:r,keyPaths:[],valuePaths:[],missingItems:[]})})`),be("Generated request:"),be(w+`
`)}return this._fetcher.request({document:g,clientMethod:n,typeName:b,dataPath:i,isList:m,rootField:u,callsite:s,showColors:this._errorFormat==="pretty",args:r,engineHook:this._engineMiddlewares[0],runInTransaction:o,headers:d})}_bootstrapClient(){const r=this._dmmf.mappings.reduce((n,i)=>{const s=Ls(i.model),o=this._dmmf.modelMap[i.model];if(!o)throw new Error(`Invalid mapping ${i.model}, can't find model`);const a=({operation:l,actionName:d,args:u,dataPath:c,modelName:f})=>{c=c!=null?c:[];const h=`${s}.${d}`;let m;const b=this._getCallsite(),g=f!=null?f:o.name,w={then:(M,y)=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.then(M,y)),requestTransaction:()=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!0})),m),catch:M=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.catch(M)),finally:M=>(m||(m=this._request({args:u,dataPath:c,action:d,model:g,clientMethod:h,callsite:b,runInTransaction:!1})),m.finally(M))};for(const M of o.fields.filter(y=>y.kind==="object"))w[M.name]=y=>{const v=c.includes("select")?"select":c.includes("include")?"include":"select",A=[...c,v,M.name],k=$n(u,A,y||!0);return r[M.type]({operation:l,actionName:d,args:k,dataPath:A,isList:M.isList,modelName:f||o.name})};return w};return n[o.name]=a,n},{});for(const n of this._dmmf.mappings){const i=Ls(n.model),s={model:!0,plural:!0,aggregate:!0},o=Object.entries(n).reduce((a,[l,d])=>{if(!s[l]){const u=Qw(l);a[l]=c=>r[n.model]({operation:u,actionName:l,args:c})}return a},{});o.count=a=>r[n.model]({operation:"query",actionName:"aggregate",args:a?{...a,select:{count:!0}}:void 0,dataPath:["count"]}),o.aggregate=a=>{const l=Object.entries(a).reduce((d,[u,c])=>(Yw[u]?(d.select||(d.select={}),u==="count"?d.select[u]=c:d.select[u]={select:c}):d[u]=c,d),{});return r[n.model]({operation:"query",actionName:"aggregate",rootField:n.aggregate,args:l,dataPath:[]})},this[i]=o}}}return t}class Jw{constructor(e,t=!1,r){this.prisma=e,this.debug=t,this.hooks=r,this.dataloader=new Nd({batchLoader:async n=>{const i=n.map(o=>String(o.document)),s=n[0].runInTransaction;return this.prisma._engine.requestBatch(i,s)},singleLoader:async n=>{const i=String(n.document);return this.prisma._engine.request(i,n.headers)},batchBy:n=>{var o;if(n.runInTransaction)return"transaction-batch";if(!n.document.children[0].name.startsWith("findOne"))return null;const i=n.document.children[0].children.join(","),s=(o=n.document.children[0].args)==null?void 0:o.args.map(a=>a.value instanceof de?a.key+"-"+a.value.args.map(l=>l.key).join(","):a.key).join(",");return`${n.document.children[0].name}|${s}|${i}`}})}async request({document:e,dataPath:t=[],rootField:r,typeName:n,isList:i,callsite:s,clientMethod:o,runInTransaction:a,showColors:l,engineHook:d,args:u,headers:c}){if(this.hooks&&this.hooks.beforeRequest){const f=String(e);this.hooks.beforeRequest({query:f,path:t,rootField:r,typeName:n,document:e,isList:i,clientMethod:o,args:u})}try{let f,h;if(d){const b=await d({document:e,runInTransaction:a},g=>this.dataloader.request(g));f=b.data,h=b.elapsed}else{const b=await this.dataloader.request({document:e,runInTransaction:a,headers:c});f=b.data,h=b.elapsed}const m=this.unpack(e,f,t,r);return process.env.PRISMA_CLIENT_GET_TIME?{data:m,elapsed:h}:m}catch(f){be(f);let h=f.message;if(s){const{stack:m}=Hn({callsite:s,originalMethod:o,onUs:f.isPanic,showColors:l});h=m+`
  `+f.message}throw h=this.sanitizeMessage(h),f.code?new we.PrismaClientKnownRequestError(h,f.code,f.meta):f.isPanic?new we.PrismaClientRustPanicError(h):f instanceof we.PrismaClientUnknownRequestError?new we.PrismaClientUnknownRequestError(h):f instanceof we.PrismaClientInitializationError?new we.PrismaClientInitializationError(h):f instanceof we.PrismaClientRustPanicError?new we.PrismaClientRustPanicError(h):f}}sanitizeMessage(e){return this.prisma._errorFormat&&this.prisma._errorFormat!=="pretty"?qd.default(e):e}unpack(e,t,r,n){t.data&&(t=t.data);const i=[];return n&&i.push(n),i.push(...r.filter(s=>s!=="select"&&s!=="include")),Cr({document:e,data:t,path:i})}}function Qw(e){return e===Ye.DMMF.ModelAction.findMany||e===Ye.DMMF.ModelAction.findOne||e===Ye.DMMF.ModelAction.findFirst?"query":"mutation"}module.exports=_s();
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
//# sourceMappingURL=index.js.map
