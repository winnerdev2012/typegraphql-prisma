# Migration `20200925144153-add-post-editor-field`

This migration has been generated by Micha≈Ç Lytek at 9/25/2020, 4:41:53 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."post" ADD COLUMN "editorId" integer   

ALTER TABLE "public"."post" ADD FOREIGN KEY ("editorId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200922192002-initial..20200925144153-add-post-editor-field
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 type Numeric = Float
@@ -30,20 +30,21 @@
 /// @@TypeGraphQL.type(name: "Client")
 model User {
   // User model field comment
   /// User model field doc
-  id      Int     @default(autoincrement()) @id
-  email   String  @unique
+  id          Int     @default(autoincrement()) @id
+  email       String  @unique
   /// renamed field doc
   /// @TypeGraphQL.field(name: "firstName")
-  name    String?
-  age     Int
+  name        String?
+  age         Int
   /// @TypeGraphQL.field(name: "accountBalance")
-  balance Numeric
-  amount  Float
+  balance     Numeric
+  amount      Float
   /// @TypeGraphQL.field(name: "clientPosts")
-  posts   post[]
-  role    Role
+  posts       post[]  @relation("posts")
+  role        Role
+  editorPosts post[]  @relation("editorPosts")
 }
 enum PostKind {
   BLOG
@@ -58,10 +59,14 @@
   title     String
   /// @TypeGraphQL.omit(output: true)
   subtitle  String
   content   String?
-  author    User      @relation(fields: [authorId], references: [id])
+  author    User      @relation(fields: [authorId], references: [id], name: "posts")
   authorId  Int
+  /// @TypeGraphQL.omit(output: true)
+  editor    User?      @relation(fields: [editorId], references: [id], name: "editorPosts")
+  /// @TypeGraphQL.omit(output: true)
+  editorId  Int?
   kind      PostKind?
   metadata  Json
 }
```


